"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var o=require("react"),n=e(o),r=e(require("@reach/portal")),t=require("@reach/utils"),a=e(require("react-focus-lock")),i=require("react-remove-scroll");function c(e,o){if(null==e)return{};var n,r,t={},a=Object.keys(e);for(r=0;r<a.length;r++)o.indexOf(n=a[r])>=0||(t[n]=e[n]);return t}e(require("prop-types"));var s=o.forwardRef((function(e,a){var i=e.isOpen,s=void 0===i||i,l=c(e,["isOpen"]);return o.useEffect((function(){return t.checkStyles("dialog")}),[]),o.useEffect((function(){s?window.__REACH_DISABLE_TOOLTIPS=!0:window.requestAnimationFrame((function(){window.__REACH_DISABLE_TOOLTIPS=!1}))}),[s]),s?n.createElement(r,{"data-reach-dialog-wrapper":""},n.createElement(u,Object.assign({ref:a},l))):null})),u=o.forwardRef((function(e,r){var s=e.allowPinchZoom,u=e.dangerouslyBypassFocusLock,l=void 0!==u&&u,f=e.dangerouslyBypassScrollLock,d=void 0!==f&&f,p=e.initialFocusRef,v=e.onClick,m=e.onDismiss,w=void 0===m?t.noop:m,g=e.onKeyDown,y=e.onMouseDown,E=e.unstable_lockFocusAcrossFrames,h=void 0===E||E,b=c(e,["allowPinchZoom","dangerouslyBypassFocusLock","dangerouslyBypassScrollLock","initialFocusRef","onClick","onDismiss","onKeyDown","onMouseDown","unstable_lockFocusAcrossFrames"]),k=o.useRef(null),D=o.useRef(null),O=t.useForkedRef(D,r),F=o.useCallback((function(){p&&p.current&&p.current.focus()}),[p]);return o.useEffect((function(){return D.current?(o=[],n=[],r=t.getOwnerDocument(e=D.current)||document,e?(Array.prototype.forEach.call(r.querySelectorAll("body > *"),(function(r){var t,a;if(r!==(null===(t=e.parentNode)||void 0===t||null===(a=t.parentNode)||void 0===a?void 0:a.parentNode)){var i=r.getAttribute("aria-hidden");null!==i&&"false"!==i||(o.push(i),n.push(r),r.setAttribute("aria-hidden","true"))}})),function(){n.forEach((function(e,n){var r=o[n];null===r?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r)}))}):t.noop):void 0;var e,o,n,r}),[]),n.createElement(a,{autoFocus:!0,returnFocus:!0,onActivation:F,disabled:l,crossFrame:h},n.createElement(i.RemoveScroll,{allowPinchZoom:s,enabled:!d},n.createElement("div",Object.assign({},b,{ref:O,"data-reach-dialog-overlay":"",onClick:t.wrapEvent(v,(function(e){k.current===e.target&&(e.stopPropagation(),w(e))})),onKeyDown:t.wrapEvent(g,(function(e){"Escape"===e.key&&(e.stopPropagation(),w(e))})),onMouseDown:t.wrapEvent(y,(function(e){k.current=e.target}))}))))})),l=o.forwardRef((function(e,o){var r=e.onClick,a=c(e,["onClick","onKeyDown"]);return n.createElement("div",Object.assign({"aria-modal":"true",role:"dialog",tabIndex:-1},a,{ref:o,"data-reach-dialog-content":"",onClick:t.wrapEvent(r,(function(e){e.stopPropagation()}))}))})),f=o.forwardRef((function(e,o){var r=e.allowPinchZoom,a=void 0!==r&&r,i=e.initialFocusRef,u=e.isOpen,f=e.onDismiss,d=void 0===f?t.noop:f,p=c(e,["allowPinchZoom","initialFocusRef","isOpen","onDismiss"]);return n.createElement(s,{allowPinchZoom:a,initialFocusRef:i,isOpen:u,onDismiss:d},n.createElement(l,Object.assign({ref:o},p)))}));exports.Dialog=f,exports.DialogContent=l,exports.DialogOverlay=s,exports.default=f;
//# sourceMappingURL=dialog.cjs.production.min.js.map
