!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("bech32"),require("crypto-addr-codec")):"function"==typeof define&&define.amd?define(["exports","bech32","crypto-addr-codec"],e):e((r=r||self).addressEncoder={},r.bech32,r.cryptoAddrCodec)}(this,function(r,e,n){function o(r,e){return function(o){var t;switch(o.readUInt8(0)){case 118:if(169!==o.readUInt8(1)||136!==o.readUInt8(o.length-2)||172!==o.readUInt8(o.length-1))throw Error("Unrecognised address format");return t=Buffer.concat([Buffer.from([r]),o.slice(3,3+o.readUInt8(2))]),n.bs58Encode(t);case 169:if(135!==o.readUInt8(o.length-1))throw Error("Unrecognised address format");return t=Buffer.concat([Buffer.from([e]),o.slice(2,2+o.readUInt8(1))]),n.bs58Encode(t);default:throw Error("Unrecognised address format")}}}function t(r,e){return function(o){var t=n.bs58Decode(o),c=t.readUInt8(0);if(r.includes(c))return Buffer.concat([Buffer.from([118,169,20]),t.slice(1),Buffer.from([136,172])]);if(e.includes(c))return Buffer.concat([Buffer.from([169,20]),t.slice(1),Buffer.from([135])]);throw Error("Unrecognised address format")}}var c=function(r,e,n,c){return{coinType:e,decoder:t(n,c),encoder:o(n[0],c[0]),name:r}};function d(r,n,t){var c=function(r){return function(n){var o=n.readUInt8(0);if(o>=81&&o<=96)o-=80;else if(0!==o)throw Error("Unrecognised address format");var t=[o].concat(e.toWords(n.slice(2,n.readUInt8(1)+2)));return e.encode(r,t)}}(r),d=o(n,t);return function(r){try{return d(r)}catch(e){return c(r)}}}function f(r,n,o){var c=function(r){return function(n){var o=e.decode(n),t=o.words;if(o.prefix!==r)throw Error("Unexpected human-readable part in bech32 encoded address");var c=e.fromWords(t.slice(1)),d=t[0];return d>0&&(d+=80),Buffer.concat([Buffer.from([d,c.length]),Buffer.from(c)])}}(r),d=t(n,o);return function(e){return e.toLowerCase().startsWith(r+"1")?c(e):d(e)}}var i=function(r,e,n,o,t){return{coinType:e,decoder:f(n,o,t),encoder:d(n,o[0],t[0]),name:r}};function a(r){return function(e){return n.toChecksumAddress(e.toString("hex"),r||null)}}function u(r){return function(e){var o=n.stripHexPrefix(e);if(!n.isValidChecksumAddress(e,r||null)&&o!==o.toLowerCase()&&o!==o.toUpperCase())throw Error("Invalid address checksum");return Buffer.from(n.stripHexPrefix(e),"hex")}}var s=function(r,e,n){return{coinType:e,decoder:u(n),encoder:a(n),name:r}};function m(r){return function(n){return e.encode(r,e.toWords(n))}}var h=function(r,n,o){return{coinType:n,decoder:(t=o,function(r){var n=e.decode(r),o=n.words;if(n.prefix!==t)throw Error("Unrecognised address format");return Buffer.from(e.fromWords(o))}),encoder:m(o),name:r};var t},l=[i("BTC",0,"bc",[0],[5]),i("LTC",2,"ltc",[48],[50,5]),c("DOGE",3,[30],[22]),c("DASH",5,[76],[16]),i("MONA",22,"mona",[50],[55,5]),{coinType:43,decoder:function(r){if(!n.isValid(r))throw Error("Unrecognised address format");var e=r.toString().toUpperCase().replace(/-/g,"");return n.b32decode(e)},encoder:function(r){return n.b32encode(n.hex2a(r.toString("hex")))},name:"XEM"},s("ETH",60),s("ETC",61),h("ATOM",118,"cosmos"),s("RSK",137,30),{coinType:144,decoder:function(r){return n.codec.decodeChecked(r)},encoder:function(r){return n.codec.encodeChecked(r)},name:"XRP"},{coinType:145,decoder:function(r){var e=t([0],[5]);try{return e(r)}catch(e){return function(r){var e=n.cashaddrDecode(r),o=e.type,t=e.hash;if(0===o)return Buffer.concat([Buffer.from([118,169,20]),Buffer.from(t),Buffer.from([136,172])]);if(1===o)return Buffer.concat([Buffer.from([169,20]),Buffer.from(t),Buffer.from([135])]);throw Error("Unrecognised address format")}(r)}},encoder:function(r){switch(r.readUInt8(0)){case 118:if(169!==r.readUInt8(1)||136!==r.readUInt8(r.length-2)||172!==r.readUInt8(r.length-1))throw Error("Unrecognised address format");return n.cashaddrEncode("bitcoincash",0,r.slice(3,3+r.readUInt8(2)));case 169:if(135!==r.readUInt8(r.length-1))throw Error("Unrecognised address format");return n.cashaddrEncode("bitcoincash",1,r.slice(2,2+r.readUInt8(1)));default:throw Error("Unrecognised address format")}},name:"BCH"},{coinType:148,decoder:function(r){return n.decodeCheck("ed25519PublicKey",r)},encoder:function(r){return n.encodeCheck("ed25519PublicKey",r)},name:"XLM"},{coinType:194,decoder:function(r){if(!n.eosPublicKey.isValid(r))throw Error("Unrecognised address format");return n.eosPublicKey(r).toBuffer()},encoder:function(r){if(!n.eosPublicKey.isValid(r))throw Error("Unrecognised address format");return n.eosPublicKey.fromHex(r).toString()},name:"EOS"},{coinType:195,decoder:n.bs58Decode,encoder:n.bs58Encode,name:"TRX"},{coinType:434,decoder:function(r){return new Buffer(n.ss58Decode(r))},encoder:function(r){return n.ss58Encode(Uint8Array.from(r),2)},name:"KSM"},{coinType:714,decoder:function(r){var n=e.decode(r),o=n.words;if("bnb"!==n.prefix)throw Error("Unrecognised address format");return Buffer.from(e.fromWords(o))},encoder:function(r){return e.encode("bnb",e.toWords(r))},name:"BNB"},s("XDAI",700),h("BNB",714,"bnb")],p=Object.assign.apply(Object,[{}].concat(l.map(function(r){var e;return(e={})[r.name]=r,e}))),U=Object.assign.apply(Object,[{}].concat(l.map(function(r){var e;return(e={})[r.coinType]=r,e})));r.formatsByCoinType=U,r.formatsByName=p});
//# sourceMappingURL=index.umd.js.map
