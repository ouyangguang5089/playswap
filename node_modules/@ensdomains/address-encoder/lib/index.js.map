{"version":3,"file":"index.js","sources":["../src/index.ts"],"sourcesContent":["import { decode as bech32Decode, encode as bech32Encode, fromWords as bech32FromWords, toWords as bech32ToWords } from 'bech32';\n// @ts-ignore\nimport { b32decode, b32encode, bs58Decode, bs58Encode, cashaddrDecode, cashaddrEncode, codec as xrpCodec, decodeCheck as decodeEd25519PublicKey, encodeCheck as encodeEd25519PublicKey, eosPublicKey, hex2a, isValid as isValidXemAddress, isValidChecksumAddress as rskIsValidChecksumAddress, ss58Decode, ss58Encode, stripHexPrefix as rskStripHexPrefix, toChecksumAddress as rskToChecksumAddress, ua2hex } from 'crypto-addr-codec';\n\ninterface IFormat {\n  coinType: number;\n  name: string;\n  encoder: (data: Buffer) => string;\n  decoder: (data: string) => Buffer;\n}\n\nfunction makeBase58CheckEncoder(p2pkhVersion: number, p2shVersion: number): (data: Buffer) => string {\n  return (data: Buffer) => {\n    let addr: Buffer;\n    switch (data.readUInt8(0)) {\n      case 0x76: // P2PKH: OP_DUP OP_HASH160 <pubKeyHash> OP_EQUALVERIFY OP_CHECKSIG\n        if (\n          data.readUInt8(1) !== 0xa9 ||\n          data.readUInt8(data.length - 2) !== 0x88 ||\n          data.readUInt8(data.length - 1) !== 0xac\n        ) {\n          throw Error('Unrecognised address format');\n        }\n        addr = Buffer.concat([Buffer.from([p2pkhVersion]), data.slice(3, 3 + data.readUInt8(2))]);\n        // @ts-ignore\n        return bs58Encode(addr);\n      case 0xa9: // P2SH: OP_HASH160 <scriptHash> OP_EQUAL\n        if (data.readUInt8(data.length - 1) !== 0x87) {\n          throw Error('Unrecognised address format');\n        }\n        addr = Buffer.concat([Buffer.from([p2shVersion]), data.slice(2, 2 + data.readUInt8(1))]);\n        return bs58Encode(addr);\n      default:\n        throw Error('Unrecognised address format');\n    }\n  };\n}\n\nfunction makeBase58CheckDecoder(p2pkhVersions: number[], p2shVersions: number[]): (data: string) => Buffer {\n  return (data: string) => {\n    const addr = bs58Decode(data);\n    const version = addr.readUInt8(0);\n    if (p2pkhVersions.includes(version)) {\n      return Buffer.concat([Buffer.from([0x76, 0xa9, 0x14]), addr.slice(1), Buffer.from([0x88, 0xac])]);\n    } else if (p2shVersions.includes(version)) {\n      return Buffer.concat([Buffer.from([0xa9, 0x14]), addr.slice(1), Buffer.from([0x87])]);\n    }\n    throw Error('Unrecognised address format');\n  };\n}\n\nconst base58Chain = (name: string, coinType: number, p2pkhVersions: number[], p2shVersions: number[]) => ({\n  coinType,\n  decoder: makeBase58CheckDecoder(p2pkhVersions, p2shVersions),\n  encoder: makeBase58CheckEncoder(p2pkhVersions[0], p2shVersions[0]),\n  name,\n});\n\nfunction makeBech32SegwitEncoder(hrp: string): (data: Buffer) => string {\n  return (data: Buffer) => {\n    let version = data.readUInt8(0);\n    if (version >= 0x51 && version <= 0x60) {\n      version -= 0x50;\n    } else if (version !== 0x00) {\n      throw Error('Unrecognised address format');\n    }\n\n    const words = [version].concat(bech32ToWords(data.slice(2, data.readUInt8(1) + 2)));\n    return bech32Encode(hrp, words);\n  };\n}\n\nfunction makeBech32SegwitDecoder(hrp: string): (data: string) => Buffer {\n  return (data: string) => {\n    const { prefix, words } = bech32Decode(data);\n    if (prefix !== hrp) {\n      throw Error('Unexpected human-readable part in bech32 encoded address');\n    }\n    const script = bech32FromWords(words.slice(1));\n    let version = words[0];\n    if (version > 0) {\n      version += 0x50;\n    }\n    return Buffer.concat([Buffer.from([version, script.length]), Buffer.from(script)]);\n  };\n}\n\nfunction makeBitcoinEncoder(hrp: string, p2pkhVersion: number, p2shVersion: number): (data: Buffer) => string {\n  const encodeBech32 = makeBech32SegwitEncoder(hrp);\n  const encodeBase58Check = makeBase58CheckEncoder(p2pkhVersion, p2shVersion);\n  return (data: Buffer) => {\n    try {\n      return encodeBase58Check(data);\n    } catch {\n      return encodeBech32(data);\n    }\n  };\n}\n\nfunction makeBitcoinDecoder(hrp: string, p2pkhVersions: number[], p2shVersions: number[]): (data: string) => Buffer {\n  const decodeBech32 = makeBech32SegwitDecoder(hrp);\n  const decodeBase58Check = makeBase58CheckDecoder(p2pkhVersions, p2shVersions);\n  return (data: string) => {\n    if (data.toLowerCase().startsWith(hrp + '1')) {\n      return decodeBech32(data);\n    } else {\n      return decodeBase58Check(data);\n    }\n  };\n}\n\nconst bitcoinChain = (\n  name: string,\n  coinType: number,\n  hrp: string,\n  p2pkhVersions: number[],\n  p2shVersions: number[],\n) => ({\n  coinType,\n  decoder: makeBitcoinDecoder(hrp, p2pkhVersions, p2shVersions),\n  encoder: makeBitcoinEncoder(hrp, p2pkhVersions[0], p2shVersions[0]),\n  name,\n});\n\nfunction encodeCashAddr(data: Buffer): string {\n  switch (data.readUInt8(0)) {\n    case 0x76: // P2PKH: OP_DUP OP_HASH160 <pubKeyHash> OP_EQUALVERIFY OP_CHECKSIG\n      if (\n        data.readUInt8(1) !== 0xa9 ||\n        data.readUInt8(data.length - 2) !== 0x88 ||\n        data.readUInt8(data.length - 1) !== 0xac\n      ) {\n        throw Error('Unrecognised address format');\n      }\n      return cashaddrEncode('bitcoincash', 0, data.slice(3, 3 + data.readUInt8(2)));\n    case 0xa9: // P2SH: OP_HASH160 <scriptHash> OP_EQUAL\n      if (data.readUInt8(data.length - 1) !== 0x87) {\n        throw Error('Unrecognised address format');\n      }\n      return cashaddrEncode('bitcoincash', 1, data.slice(2, 2 + data.readUInt8(1)));\n    default:\n      throw Error('Unrecognised address format');\n  }\n}\n\nfunction decodeCashAddr(data: string): Buffer {\n  const { prefix, type, hash } = cashaddrDecode(data);\n  if (type === 0) {\n    return Buffer.concat([Buffer.from([0x76, 0xa9, 0x14]), Buffer.from(hash), Buffer.from([0x88, 0xac])]);\n  } else if (type === 1) {\n    return Buffer.concat([Buffer.from([0xa9, 0x14]), Buffer.from(hash), Buffer.from([0x87])]);\n  }\n  throw Error('Unrecognised address format');\n}\n\nfunction decodeBitcoinCash(data: string): Buffer {\n  const decodeBase58Check = makeBase58CheckDecoder([0x00], [0x05]);\n  try {\n    return decodeBase58Check(data);\n  } catch {\n    return decodeCashAddr(data);\n  }\n}\n\nfunction makeChecksummedHexEncoder(chainId?: number) {\n  return (data: Buffer) => rskToChecksumAddress(data.toString('hex'), chainId || null);\n}\n\nfunction makeChecksummedHexDecoder(chainId?: number) {\n  return (data: string) => {\n    const stripped = rskStripHexPrefix(data);\n    if (\n      !rskIsValidChecksumAddress(data, chainId || null) &&\n      stripped !== stripped.toLowerCase() &&\n      stripped !== stripped.toUpperCase()\n    ) {\n      throw Error('Invalid address checksum');\n    }\n    return Buffer.from(rskStripHexPrefix(data), 'hex');\n  };\n}\n\nconst hexChecksumChain = (name: string, coinType: number, chainId?: number) => ({\n  coinType,\n  decoder: makeChecksummedHexDecoder(chainId),\n  encoder: makeChecksummedHexEncoder(chainId),\n  name,\n});\n\nfunction makeBech32Encoder(prefix: string) {\n  return (data: Buffer) => bech32Encode(prefix, bech32ToWords(data));\n}\n\nfunction makeBech32Decoder(currentPrefix: string) {\n  return (data: string) => {\n    const { prefix, words } = bech32Decode(data);\n    if (prefix !== currentPrefix) {\n      throw Error('Unrecognised address format');\n    }\n    return Buffer.from(bech32FromWords(words));\n  }\n}\n\nconst bech32Chain = (name: string, coinType: number, prefix: string) => ({\n  coinType,\n  decoder: makeBech32Decoder(prefix),\n  encoder: makeBech32Encoder(prefix),\n  name,\n});\n\nfunction b32encodeXemAddr(data: Buffer): string {\n  return b32encode(hex2a(data.toString('hex')));\n}\n\nfunction b32decodeXemAddr(data: string): Buffer {\n  if (!isValidXemAddress(data)) {\n    throw Error('Unrecognised address format');\n  }\n  const address = data.toString().toUpperCase().replace(/-/g, '');\n  return b32decode(address)\n}\n\nfunction eosAddrEncoder(data: Buffer): string {\n  if (!eosPublicKey.isValid(data)) {\n    throw Error('Unrecognised address format');\n  }\n  return eosPublicKey.fromHex(data).toString();\n}\n\nfunction eosAddrDecoder(data: string): Buffer {\n  if (!eosPublicKey.isValid(data)) {\n    throw Error('Unrecognised address format');\n  }\n  return eosPublicKey(data).toBuffer();\n}\n\nfunction ksmAddrEncoder(data: Buffer): string {\n  return ss58Encode(Uint8Array.from(data), 2)\n}\n\nfunction ksmAddrDecoder(data: string): Buffer {\n  return new Buffer(ss58Decode(data))\n}\n\nfunction strDecoder(data: string): Buffer {\n  return decodeEd25519PublicKey('ed25519PublicKey', data)\n}\n\nfunction strEncoder(data: Buffer): string {\n  return encodeEd25519PublicKey('ed25519PublicKey', data)\n}\n\nconst formats: IFormat[] = [\n  bitcoinChain('BTC', 0, 'bc', [0x00], [0x05]),\n  bitcoinChain('LTC', 2, 'ltc', [0x30], [0x32, 0x05]),\n  base58Chain('DOGE', 3, [0x1e], [0x16]),\n  base58Chain('DASH', 5, [0x4c], [0x10]),\n  bitcoinChain('MONA', 22, 'mona', [0x32], [0x37, 0x05]),\n  {\n    coinType: 43,\n    decoder: b32decodeXemAddr,\n    encoder: b32encodeXemAddr,\n    name: 'XEM',\n  },\n  hexChecksumChain('ETH', 60),\n  hexChecksumChain('ETC', 61),\n  bech32Chain('ATOM', 118, 'cosmos'),\n  hexChecksumChain('RSK', 137, 30),\n  {\n    coinType: 144,\n    decoder: (data: string) => xrpCodec.decodeChecked(data),\n    encoder: (data: Buffer) => xrpCodec.encodeChecked(data),\n    name: 'XRP',\n  },\n  {\n    coinType: 145,\n    decoder: decodeBitcoinCash,\n    encoder: encodeCashAddr,\n    name: 'BCH',\n  },\n  {\n    coinType: 148,\n    decoder: strDecoder,\n    encoder: strEncoder,\n    name: 'XLM',\n  },\n  {\n    coinType: 194,\n    decoder: eosAddrDecoder,\n    encoder: eosAddrEncoder,\n    name: 'EOS',\n  },\n  {\n    coinType: 195,\n    decoder: bs58Decode,\n    encoder: bs58Encode,\n    name: 'TRX',\n  },\n  {\n    coinType: 434,\n    decoder: ksmAddrDecoder,\n    encoder: ksmAddrEncoder,\n    name: 'KSM'\n  },\n  {\n    coinType: 714,\n    decoder: (data: string) => {\n      const { prefix, words } = bech32Decode(data);\n      if (prefix !== 'bnb') {\n        throw Error('Unrecognised address format');\n      }\n      return Buffer.from(bech32FromWords(words));\n    },\n    encoder: (data: Buffer) => {\n      return bech32Encode('bnb', bech32ToWords(data));\n    },\n    name: 'BNB',\n  },\n  hexChecksumChain('XDAI', 700),\n  bech32Chain('BNB', 714, 'bnb'),\n];\n\nexport const formatsByName: { [key: string]: IFormat } = Object.assign({}, ...formats.map(x => ({ [x.name]: x })));\nexport const formatsByCoinType: { [key: number]: IFormat } = Object.assign(\n  {},\n  ...formats.map(x => ({ [x.coinType]: x })),\n);\n\n"],"names":["makeBase58CheckEncoder","p2pkhVersion","p2shVersion","data","addr","readUInt8","length","Error","Buffer","concat","from","slice","bs58Encode","makeBase58CheckDecoder","p2pkhVersions","p2shVersions","bs58Decode","version","includes","base58Chain","name","coinType","decoder","encoder","makeBitcoinEncoder","hrp","encodeBech32","words","bech32ToWords","bech32Encode","makeBech32SegwitEncoder","encodeBase58Check","makeBitcoinDecoder","decodeBech32","bech32Decode","prefix","script","bech32FromWords","makeBech32SegwitDecoder","decodeBase58Check","toLowerCase","startsWith","bitcoinChain","makeChecksummedHexEncoder","chainId","rskToChecksumAddress","toString","makeChecksummedHexDecoder","stripped","rskStripHexPrefix","rskIsValidChecksumAddress","toUpperCase","hexChecksumChain","makeBech32Encoder","bech32Chain","currentPrefix","formats","isValidXemAddress","address","replace","b32decode","b32encode","hex2a","xrpCodec","decodeChecked","encodeChecked","cashaddrDecode","type","hash","decodeCashAddr","cashaddrEncode","decodeEd25519PublicKey","encodeEd25519PublicKey","eosPublicKey","isValid","toBuffer","fromHex","ss58Decode","ss58Encode","Uint8Array","formatsByName","Object","assign","map","x","formatsByCoinType"],"mappings":"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"}