{"ast":null,"code":"import _slicedToArray from\"/projects/testswap/uniswap-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/projects/testswap/uniswap-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject6(){var data=_taggedTemplateLiteral([\"\\n    display: none;  \\n  \"]);_templateObject6=function _templateObject6(){return data;};return data;}function _templateObject5(){var data=_taggedTemplateLiteral([\"\\n  color: #f3841e;\\n  \",\"\\n\"]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=_taggedTemplateLiteral([\"\\n  height: 2rem;\\n  position: relative;\\n  padding: 0 0.75rem;\\n  flex: 1;\\n  border: \",\";\\n  :hover {\\n    border: \",\";\\n  }\\n\\n  input {\\n    width: 100%;\\n    height: 100%;\\n    border: 0px;\\n    border-radius: 2rem;\\n  }\\n\"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n  background: \",\";\\n  font-size: 16px;\\n  width: auto;\\n  outline: none;\\n  &::-webkit-outer-spin-button,\\n  &::-webkit-inner-spin-button {\\n    -webkit-appearance: none;\\n  }\\n  color: \",\";\\n  text-align: right;\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  margin-right: 8px;\\n  :hover {\\n    cursor: pointer;\\n  }\\n  background-color: \",\";\\n  color: \",\";\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  color: \",\";\\n  align-items: center;\\n  height: 2rem;\\n  border-radius: 36px;\\n  font-size: 1rem;\\n  width: auto;\\n  min-width: 3.5rem;\\n  border: 1px solid \",\";\\n  outline: none;\\n  background: \",\";\\n  :hover {\\n    border: 1px solid \",\";\\n  }\\n  :focus {\\n    border: 1px solid \",\";\\n  }\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState,useRef,useContext}from'react';import styled,{ThemeContext}from'styled-components';import QuestionHelper from'../QuestionHelper';import{TYPE}from'../../theme';import{AutoColumn}from'../Column';import{RowBetween,RowFixed}from'../Row';import{darken}from'polished';var SlippageError;(function(SlippageError){SlippageError[\"InvalidInput\"]=\"InvalidInput\";SlippageError[\"RiskyLow\"]=\"RiskyLow\";SlippageError[\"RiskyHigh\"]=\"RiskyHigh\";})(SlippageError||(SlippageError={}));var DeadlineError;(function(DeadlineError){DeadlineError[\"InvalidInput\"]=\"InvalidInput\";})(DeadlineError||(DeadlineError={}));var FancyButton=styled.button(_templateObject(),function(_ref){var theme=_ref.theme;return theme.text1;},function(_ref2){var theme=_ref2.theme;return theme.bg3;},function(_ref3){var theme=_ref3.theme;return theme.bg1;},function(_ref4){var theme=_ref4.theme;return theme.bg4;},function(_ref5){var theme=_ref5.theme;return theme.primary1;});var Option=styled(FancyButton)(_templateObject2(),function(_ref6){var active=_ref6.active,theme=_ref6.theme;return active&&theme.primary1;},function(_ref7){var active=_ref7.active,theme=_ref7.theme;return active?theme.white:theme.text1;});var Input=styled.input(_templateObject3(),function(_ref8){var theme=_ref8.theme;return theme.bg1;},function(_ref9){var theme=_ref9.theme,color=_ref9.color;return color==='red'?theme.red1:theme.text1;});var OptionCustom=styled(FancyButton)(_templateObject4(),function(_ref10){var theme=_ref10.theme,active=_ref10.active,warning=_ref10.warning;return active&&\"1px solid \".concat(warning?theme.red1:theme.primary1);},function(_ref11){var theme=_ref11.theme,active=_ref11.active,warning=_ref11.warning;return active&&\"1px solid \".concat(warning?darken(0.1,theme.red1):darken(0.1,theme.primary1));});var SlippageEmojiContainer=styled.span(_templateObject5(),function(_ref12){var theme=_ref12.theme;return theme.mediaWidth.upToSmall(_templateObject6());});export default function SlippageTabs(_ref13){var rawSlippage=_ref13.rawSlippage,setRawSlippage=_ref13.setRawSlippage,deadline=_ref13.deadline,setDeadline=_ref13.setDeadline;var theme=useContext(ThemeContext);var inputRef=useRef();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),slippageInput=_useState2[0],setSlippageInput=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),deadlineInput=_useState4[0],setDeadlineInput=_useState4[1];var slippageInputIsValid=slippageInput===''||(rawSlippage/100).toFixed(2)===Number.parseFloat(slippageInput).toFixed(2);var deadlineInputIsValid=deadlineInput===''||(deadline/60).toString()===deadlineInput;var slippageError;if(slippageInput!==''&&!slippageInputIsValid){slippageError=SlippageError.InvalidInput;}else if(slippageInputIsValid&&rawSlippage<50){slippageError=SlippageError.RiskyLow;}else if(slippageInputIsValid&&rawSlippage>500){slippageError=SlippageError.RiskyHigh;}else{slippageError=undefined;}var deadlineError;if(deadlineInput!==''&&!deadlineInputIsValid){deadlineError=DeadlineError.InvalidInput;}else{deadlineError=undefined;}function parseCustomSlippage(value){setSlippageInput(value);try{var valueAsIntFromRoundedFloat=Number.parseInt((Number.parseFloat(value)*100).toString());if(!Number.isNaN(valueAsIntFromRoundedFloat)&&valueAsIntFromRoundedFloat<5000){setRawSlippage(valueAsIntFromRoundedFloat);}}catch(_unused){}}function parseCustomDeadline(value){setDeadlineInput(value);try{var valueAsInt=Number.parseInt(value)*60;if(!Number.isNaN(valueAsInt)&&valueAsInt>0){setDeadline(valueAsInt);}}catch(_unused2){}}return/*#__PURE__*/React.createElement(AutoColumn,{gap:\"md\"},/*#__PURE__*/React.createElement(AutoColumn,{gap:\"sm\"},/*#__PURE__*/React.createElement(RowFixed,null,/*#__PURE__*/React.createElement(TYPE.black,{fontWeight:400,fontSize:14,color:theme.text2},\"Slippage tolerance\"),/*#__PURE__*/React.createElement(QuestionHelper,{text:\"Your transaction will revert if the price changes unfavorably by more than this percentage.\"})),/*#__PURE__*/React.createElement(RowBetween,null,/*#__PURE__*/React.createElement(Option,{onClick:function onClick(){setSlippageInput('');setRawSlippage(10);},active:rawSlippage===10},\"0.1%\"),/*#__PURE__*/React.createElement(Option,{onClick:function onClick(){setSlippageInput('');setRawSlippage(50);},active:rawSlippage===50},\"0.5%\"),/*#__PURE__*/React.createElement(Option,{onClick:function onClick(){setSlippageInput('');setRawSlippage(100);},active:rawSlippage===100},\"1%\"),/*#__PURE__*/React.createElement(OptionCustom,{active:![10,50,100].includes(rawSlippage),warning:!slippageInputIsValid,tabIndex:-1},/*#__PURE__*/React.createElement(RowBetween,null,!!slippageInput&&(slippageError===SlippageError.RiskyLow||slippageError===SlippageError.RiskyHigh)?/*#__PURE__*/React.createElement(SlippageEmojiContainer,null,/*#__PURE__*/React.createElement(\"span\",{role:\"img\",\"aria-label\":\"warning\"},\"\\u26A0\\uFE0F\")):null,/*#__PURE__*/React.createElement(Input,{ref:inputRef,placeholder:(rawSlippage/100).toFixed(2),value:slippageInput,onBlur:function onBlur(){parseCustomSlippage((rawSlippage/100).toFixed(2));},onChange:function onChange(e){return parseCustomSlippage(e.target.value);},color:!slippageInputIsValid?'red':''}),\"%\"))),!!slippageError&&/*#__PURE__*/React.createElement(RowBetween,{style:{fontSize:'14px',paddingTop:'7px',color:slippageError===SlippageError.InvalidInput?'red':'#F3841E'}},slippageError===SlippageError.InvalidInput?'Enter a valid slippage percentage':slippageError===SlippageError.RiskyLow?'Your transaction may fail':'Your transaction may be frontrun')),/*#__PURE__*/React.createElement(AutoColumn,{gap:\"sm\"},/*#__PURE__*/React.createElement(RowFixed,null,/*#__PURE__*/React.createElement(TYPE.black,{fontSize:14,fontWeight:400,color:theme.text2},\"Transaction deadline\"),/*#__PURE__*/React.createElement(QuestionHelper,{text:\"Your transaction will revert if it is pending for more than this long.\"})),/*#__PURE__*/React.createElement(RowFixed,null,/*#__PURE__*/React.createElement(OptionCustom,{style:{width:'80px'},tabIndex:-1},/*#__PURE__*/React.createElement(Input,{color:!!deadlineError?'red':undefined,onBlur:function onBlur(){parseCustomDeadline((deadline/60).toString());},placeholder:(deadline/60).toString(),value:deadlineInput,onChange:function onChange(e){return parseCustomDeadline(e.target.value);}})),/*#__PURE__*/React.createElement(TYPE.body,{style:{paddingLeft:'8px'},fontSize:14},\"minutes\"))));}","map":{"version":3,"sources":["/projects/testswap/uniswap-interface/src/components/TransactionSettings/index.tsx"],"names":["React","useState","useRef","useContext","styled","ThemeContext","QuestionHelper","TYPE","AutoColumn","RowBetween","RowFixed","darken","SlippageError","DeadlineError","FancyButton","button","theme","text1","bg3","bg1","bg4","primary1","Option","active","white","Input","input","color","red1","OptionCustom","warning","SlippageEmojiContainer","span","mediaWidth","upToSmall","SlippageTabs","rawSlippage","setRawSlippage","deadline","setDeadline","inputRef","slippageInput","setSlippageInput","deadlineInput","setDeadlineInput","slippageInputIsValid","toFixed","Number","parseFloat","deadlineInputIsValid","toString","slippageError","InvalidInput","RiskyLow","RiskyHigh","undefined","deadlineError","parseCustomSlippage","value","valueAsIntFromRoundedFloat","parseInt","isNaN","parseCustomDeadline","valueAsInt","text2","includes","e","target","fontSize","paddingTop","width","paddingLeft"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useContext } from 'react'\nimport styled, { ThemeContext } from 'styled-components'\n\nimport QuestionHelper from '../QuestionHelper'\nimport { TYPE } from '../../theme'\nimport { AutoColumn } from '../Column'\nimport { RowBetween, RowFixed } from '../Row'\n\nimport { darken } from 'polished'\n\nenum SlippageError {\n  InvalidInput = 'InvalidInput',\n  RiskyLow = 'RiskyLow',\n  RiskyHigh = 'RiskyHigh'\n}\n\nenum DeadlineError {\n  InvalidInput = 'InvalidInput'\n}\n\nconst FancyButton = styled.button`\n  color: ${({ theme }) => theme.text1};\n  align-items: center;\n  height: 2rem;\n  border-radius: 36px;\n  font-size: 1rem;\n  width: auto;\n  min-width: 3.5rem;\n  border: 1px solid ${({ theme }) => theme.bg3};\n  outline: none;\n  background: ${({ theme }) => theme.bg1};\n  :hover {\n    border: 1px solid ${({ theme }) => theme.bg4};\n  }\n  :focus {\n    border: 1px solid ${({ theme }) => theme.primary1};\n  }\n`\n\nconst Option = styled(FancyButton)<{ active: boolean }>`\n  margin-right: 8px;\n  :hover {\n    cursor: pointer;\n  }\n  background-color: ${({ active, theme }) => active && theme.primary1};\n  color: ${({ active, theme }) => (active ? theme.white : theme.text1)};\n`\n\nconst Input = styled.input`\n  background: ${({ theme }) => theme.bg1};\n  font-size: 16px;\n  width: auto;\n  outline: none;\n  &::-webkit-outer-spin-button,\n  &::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n  }\n  color: ${({ theme, color }) => (color === 'red' ? theme.red1 : theme.text1)};\n  text-align: right;\n`\n\nconst OptionCustom = styled(FancyButton)<{ active?: boolean; warning?: boolean }>`\n  height: 2rem;\n  position: relative;\n  padding: 0 0.75rem;\n  flex: 1;\n  border: ${({ theme, active, warning }) => active && `1px solid ${warning ? theme.red1 : theme.primary1}`};\n  :hover {\n    border: ${({ theme, active, warning }) =>\n      active && `1px solid ${warning ? darken(0.1, theme.red1) : darken(0.1, theme.primary1)}`};\n  }\n\n  input {\n    width: 100%;\n    height: 100%;\n    border: 0px;\n    border-radius: 2rem;\n  }\n`\n\nconst SlippageEmojiContainer = styled.span`\n  color: #f3841e;\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    display: none;  \n  `}\n`\n\nexport interface SlippageTabsProps {\n  rawSlippage: number\n  setRawSlippage: (rawSlippage: number) => void\n  deadline: number\n  setDeadline: (deadline: number) => void\n}\n\nexport default function SlippageTabs({ rawSlippage, setRawSlippage, deadline, setDeadline }: SlippageTabsProps) {\n  const theme = useContext(ThemeContext)\n\n  const inputRef = useRef<HTMLInputElement>()\n\n  const [slippageInput, setSlippageInput] = useState('')\n  const [deadlineInput, setDeadlineInput] = useState('')\n\n  const slippageInputIsValid =\n    slippageInput === '' || (rawSlippage / 100).toFixed(2) === Number.parseFloat(slippageInput).toFixed(2)\n  const deadlineInputIsValid = deadlineInput === '' || (deadline / 60).toString() === deadlineInput\n\n  let slippageError: SlippageError | undefined\n  if (slippageInput !== '' && !slippageInputIsValid) {\n    slippageError = SlippageError.InvalidInput\n  } else if (slippageInputIsValid && rawSlippage < 50) {\n    slippageError = SlippageError.RiskyLow\n  } else if (slippageInputIsValid && rawSlippage > 500) {\n    slippageError = SlippageError.RiskyHigh\n  } else {\n    slippageError = undefined\n  }\n\n  let deadlineError: DeadlineError | undefined\n  if (deadlineInput !== '' && !deadlineInputIsValid) {\n    deadlineError = DeadlineError.InvalidInput\n  } else {\n    deadlineError = undefined\n  }\n\n  function parseCustomSlippage(value: string) {\n    setSlippageInput(value)\n\n    try {\n      const valueAsIntFromRoundedFloat = Number.parseInt((Number.parseFloat(value) * 100).toString())\n      if (!Number.isNaN(valueAsIntFromRoundedFloat) && valueAsIntFromRoundedFloat < 5000) {\n        setRawSlippage(valueAsIntFromRoundedFloat)\n      }\n    } catch {}\n  }\n\n  function parseCustomDeadline(value: string) {\n    setDeadlineInput(value)\n\n    try {\n      const valueAsInt: number = Number.parseInt(value) * 60\n      if (!Number.isNaN(valueAsInt) && valueAsInt > 0) {\n        setDeadline(valueAsInt)\n      }\n    } catch {}\n  }\n\n  return (\n    <AutoColumn gap=\"md\">\n      <AutoColumn gap=\"sm\">\n        <RowFixed>\n          <TYPE.black fontWeight={400} fontSize={14} color={theme.text2}>\n            Slippage tolerance\n          </TYPE.black>\n          <QuestionHelper text=\"Your transaction will revert if the price changes unfavorably by more than this percentage.\" />\n        </RowFixed>\n        <RowBetween>\n          <Option\n            onClick={() => {\n              setSlippageInput('')\n              setRawSlippage(10)\n            }}\n            active={rawSlippage === 10}\n          >\n            0.1%\n          </Option>\n          <Option\n            onClick={() => {\n              setSlippageInput('')\n              setRawSlippage(50)\n            }}\n            active={rawSlippage === 50}\n          >\n            0.5%\n          </Option>\n          <Option\n            onClick={() => {\n              setSlippageInput('')\n              setRawSlippage(100)\n            }}\n            active={rawSlippage === 100}\n          >\n            1%\n          </Option>\n          <OptionCustom active={![10, 50, 100].includes(rawSlippage)} warning={!slippageInputIsValid} tabIndex={-1}>\n            <RowBetween>\n              {!!slippageInput &&\n              (slippageError === SlippageError.RiskyLow || slippageError === SlippageError.RiskyHigh) ? (\n                <SlippageEmojiContainer>\n                  <span role=\"img\" aria-label=\"warning\">\n                    ⚠️\n                  </span>\n                </SlippageEmojiContainer>\n              ) : null}\n              {/* https://github.com/DefinitelyTyped/DefinitelyTyped/issues/30451 */}\n              <Input\n                ref={inputRef as any}\n                placeholder={(rawSlippage / 100).toFixed(2)}\n                value={slippageInput}\n                onBlur={() => {\n                  parseCustomSlippage((rawSlippage / 100).toFixed(2))\n                }}\n                onChange={e => parseCustomSlippage(e.target.value)}\n                color={!slippageInputIsValid ? 'red' : ''}\n              />\n              %\n            </RowBetween>\n          </OptionCustom>\n        </RowBetween>\n        {!!slippageError && (\n          <RowBetween\n            style={{\n              fontSize: '14px',\n              paddingTop: '7px',\n              color: slippageError === SlippageError.InvalidInput ? 'red' : '#F3841E'\n            }}\n          >\n            {slippageError === SlippageError.InvalidInput\n              ? 'Enter a valid slippage percentage'\n              : slippageError === SlippageError.RiskyLow\n              ? 'Your transaction may fail'\n              : 'Your transaction may be frontrun'}\n          </RowBetween>\n        )}\n      </AutoColumn>\n\n      <AutoColumn gap=\"sm\">\n        <RowFixed>\n          <TYPE.black fontSize={14} fontWeight={400} color={theme.text2}>\n            Transaction deadline\n          </TYPE.black>\n          <QuestionHelper text=\"Your transaction will revert if it is pending for more than this long.\" />\n        </RowFixed>\n        <RowFixed>\n          <OptionCustom style={{ width: '80px' }} tabIndex={-1}>\n            <Input\n              color={!!deadlineError ? 'red' : undefined}\n              onBlur={() => {\n                parseCustomDeadline((deadline / 60).toString())\n              }}\n              placeholder={(deadline / 60).toString()}\n              value={deadlineInput}\n              onChange={e => parseCustomDeadline(e.target.value)}\n            />\n          </OptionCustom>\n          <TYPE.body style={{ paddingLeft: '8px' }} fontSize={14}>\n            minutes\n          </TYPE.body>\n        </RowFixed>\n      </AutoColumn>\n    </AutoColumn>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}