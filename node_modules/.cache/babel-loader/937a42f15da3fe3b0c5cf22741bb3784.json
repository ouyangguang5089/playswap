{"ast":null,"code":"import _slicedToArray from\"/projects/testswap/uniswap-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/projects/testswap/uniswap-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject9(){var data=_taggedTemplateLiteral([\"\\n    flex-direction: column;\\n    gap: 12px;\\n  \"]);_templateObject9=function _templateObject9(){return data;};return data;}function _templateObject8(){var data=_taggedTemplateLiteral([\"\\n  justify-content: center;\\n  gap: 12px;\\n\\n  \",\";\\n\"]);_templateObject8=function _templateObject8(){return data;};return data;}function _templateObject7(){var data=_taggedTemplateLiteral([\"\\n  background: radial-gradient(76.02% 75.41% at 1.84% 0%, #27ae60 0%, #000000 100%);\\n  overflow: hidden;\\n\"]);_templateObject7=function _templateObject7(){return data;};return data;}function _templateObject6(){var data=_taggedTemplateLiteral([\"\\n  background: none;\\n  border: 1px solid \",\";\\n  padding: 1rem;\\n  z-index: 1;\\n\"]);_templateObject6=function _templateObject6(){return data;};return data;}function _templateObject5(){var data=_taggedTemplateLiteral([\"\\n  background: \",\";\\n  opacity: \",\";\\n  margin-top: -40px;\\n  padding: 0 1.25rem 1rem 1.25rem;\\n  padding-top: 32px;\\n  z-index: 1;\\n\"]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=_taggedTemplateLiteral([\"\\n  background: radial-gradient(76.02% 75.41% at 1.84% 0%, #1e1a31 0%, #3d51a5 100%);\\n  z-index: 2;\\n  box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);\\n  background: \",\";\\n\"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n  border-radius: 12px;\\n  width: 100%;\\n  position: relative;\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  position: relative;\\n  max-width: 640px;\\n  width: 100%;\\n  opacity: \",\";\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  max-width: 640px;\\n  width: 100%;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useCallback,useState}from'react';import{AutoColumn}from'../../components/Column';import styled from'styled-components';import{Link}from'react-router-dom';import{JSBI,TokenAmount,ETHER}from'@uniswap/sdk';import DoubleCurrencyLogo from'../../components/DoubleLogo';import{useCurrency}from'../../hooks/Tokens';import{useWalletModalToggle}from'../../state/application/hooks';import{TYPE}from'../../theme';import{RowBetween}from'../../components/Row';import{CardSection,DataCard,CardNoise,CardBGImage}from'../../components/earn/styled';import{ButtonPrimary,ButtonEmpty}from'../../components/Button';import StakingModal from'../../components/earn/StakingModal';import{useStakingInfo}from'../../state/stake/hooks';import UnstakingModal from'../../components/earn/UnstakingModal';import ClaimRewardModal from'../../components/earn/ClaimRewardModal';import{useTokenBalance}from'../../state/wallet/hooks';import{useActiveWeb3React}from'../../hooks';import{useColor}from'../../hooks/useColor';import{CountUp}from'use-count-up';import{wrappedCurrency}from'../../utils/wrappedCurrency';import{currencyId}from'../../utils/currencyId';import{useTotalSupply}from'../../data/TotalSupply';import{usePair}from'../../data/Reserves';import usePrevious from'../../hooks/usePrevious';import useUSDCPrice from'../../utils/useUSDCPrice';import{BIG_INT_ZERO,BIG_INT_SECONDS_IN_WEEK}from'../../constants';var PageWrapper=styled(AutoColumn)(_templateObject());var PositionInfo=styled(AutoColumn)(_templateObject2(),function(_ref){var dim=_ref.dim;return dim?0.6:1;});var BottomSection=styled(AutoColumn)(_templateObject3());var StyledDataCard=styled(DataCard)(_templateObject4(),function(_ref2){var theme=_ref2.theme,bgColor=_ref2.bgColor,showBackground=_ref2.showBackground;return\"radial-gradient(91.85% 100% at 1.84% 0%, \".concat(bgColor,\" 0%,  \").concat(showBackground?theme.black:theme.bg5,\" 100%) \");});var StyledBottomCard=styled(DataCard)(_templateObject5(),function(_ref3){var theme=_ref3.theme;return theme.bg3;},function(_ref4){var dim=_ref4.dim;return dim?0.4:1;});var PoolData=styled(DataCard)(_templateObject6(),function(_ref5){var theme=_ref5.theme;return theme.bg4;});var VoteCard=styled(DataCard)(_templateObject7());var DataRow=styled(RowBetween)(_templateObject8(),function(_ref6){var theme=_ref6.theme;return theme.mediaWidth.upToSmall(_templateObject9());});export default function Manage(_ref7){var _useStakingInfo,_stakingInfo$stakedAm,_stakingInfo$stakedAm2,_stakingInfo$stakedAm3,_stakingInfo$earnedAm,_stakingInfo$earnedAm2,_usePrevious,_valueOfTotalStakedAm,_valueOfTotalStakedAm2,_stakingInfo$totalRew,_stakingInfo$totalRew2,_stakingInfo$totalRew3,_stakingInfo$stakedAm4,_stakingInfo$stakedAm5,_stakingInfo$stakedAm6,_stakingInfo$earnedAm3,_stakingInfo$rewardRa,_stakingInfo$rewardRa2,_stakingInfo$rewardRa3,_stakingInfo$stakedAm7,_stakingInfo$stakedAm8;var _ref7$match$params=_ref7.match.params,currencyIdA=_ref7$match$params.currencyIdA,currencyIdB=_ref7$match$params.currencyIdB;var _useActiveWeb3React=useActiveWeb3React(),account=_useActiveWeb3React.account,chainId=_useActiveWeb3React.chainId;// get currencies and pair\nvar _ref8=[useCurrency(currencyIdA),useCurrency(currencyIdB)],currencyA=_ref8[0],currencyB=_ref8[1];var tokenA=wrappedCurrency(currencyA!==null&&currencyA!==void 0?currencyA:undefined,chainId);var tokenB=wrappedCurrency(currencyB!==null&&currencyB!==void 0?currencyB:undefined,chainId);var _usePair=usePair(tokenA,tokenB),_usePair2=_slicedToArray(_usePair,2),stakingTokenPair=_usePair2[1];var stakingInfo=(_useStakingInfo=useStakingInfo(stakingTokenPair))===null||_useStakingInfo===void 0?void 0:_useStakingInfo[0];// detect existing unstaked LP position to show add button if none found\nvar userLiquidityUnstaked=useTokenBalance(account!==null&&account!==void 0?account:undefined,stakingInfo===null||stakingInfo===void 0?void 0:(_stakingInfo$stakedAm=stakingInfo.stakedAmount)===null||_stakingInfo$stakedAm===void 0?void 0:_stakingInfo$stakedAm.token);var showAddLiquidityButton=Boolean((stakingInfo===null||stakingInfo===void 0?void 0:(_stakingInfo$stakedAm2=stakingInfo.stakedAmount)===null||_stakingInfo$stakedAm2===void 0?void 0:_stakingInfo$stakedAm2.equalTo('0'))&&(userLiquidityUnstaked===null||userLiquidityUnstaked===void 0?void 0:userLiquidityUnstaked.equalTo('0')));// toggle for staking modal and unstaking modal\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),showStakingModal=_useState2[0],setShowStakingModal=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showUnstakingModal=_useState4[0],setShowUnstakingModal=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showClaimRewardModal=_useState6[0],setShowClaimRewardModal=_useState6[1];// fade cards if nothing staked or nothing earned yet\nvar disableTop=!(stakingInfo===null||stakingInfo===void 0?void 0:stakingInfo.stakedAmount)||stakingInfo.stakedAmount.equalTo(JSBI.BigInt(0));var token=currencyA===ETHER?tokenB:tokenA;var WETH=currencyA===ETHER?tokenA:tokenB;var backgroundColor=useColor(token);// get WETH value of staked LP tokens\nvar totalSupplyOfStakingToken=useTotalSupply(stakingInfo===null||stakingInfo===void 0?void 0:(_stakingInfo$stakedAm3=stakingInfo.stakedAmount)===null||_stakingInfo$stakedAm3===void 0?void 0:_stakingInfo$stakedAm3.token);var valueOfTotalStakedAmountInWETH;if(totalSupplyOfStakingToken&&stakingTokenPair&&stakingInfo&&WETH){// take the total amount of LP tokens staked, multiply by ETH value of all LP tokens, divide by all LP tokens\nvalueOfTotalStakedAmountInWETH=new TokenAmount(WETH,JSBI.divide(JSBI.multiply(JSBI.multiply(stakingInfo.totalStakedAmount.raw,stakingTokenPair.reserveOf(WETH).raw),JSBI.BigInt(2)// this is b/c the value of LP shares are ~double the value of the WETH they entitle owner to\n),totalSupplyOfStakingToken.raw));}var countUpAmount=(_stakingInfo$earnedAm=stakingInfo===null||stakingInfo===void 0?void 0:(_stakingInfo$earnedAm2=stakingInfo.earnedAmount)===null||_stakingInfo$earnedAm2===void 0?void 0:_stakingInfo$earnedAm2.toFixed(6))!==null&&_stakingInfo$earnedAm!==void 0?_stakingInfo$earnedAm:'0';var countUpAmountPrevious=(_usePrevious=usePrevious(countUpAmount))!==null&&_usePrevious!==void 0?_usePrevious:'0';// get the USD value of staked WETH\nvar USDPrice=useUSDCPrice(WETH);var valueOfTotalStakedAmountInUSDC=valueOfTotalStakedAmountInWETH&&(USDPrice===null||USDPrice===void 0?void 0:USDPrice.quote(valueOfTotalStakedAmountInWETH));var toggleWalletModal=useWalletModalToggle();var handleDepositClick=useCallback(function(){if(account){setShowStakingModal(true);}else{toggleWalletModal();}},[account,toggleWalletModal]);return/*#__PURE__*/React.createElement(PageWrapper,{gap:\"lg\",justify:\"center\"},/*#__PURE__*/React.createElement(RowBetween,{style:{gap:'24px'}},/*#__PURE__*/React.createElement(TYPE.mediumHeader,{style:{margin:0}},currencyA===null||currencyA===void 0?void 0:currencyA.symbol,\"-\",currencyB===null||currencyB===void 0?void 0:currencyB.symbol,\" Liquidity Mining\"),/*#__PURE__*/React.createElement(DoubleCurrencyLogo,{currency0:currencyA!==null&&currencyA!==void 0?currencyA:undefined,currency1:currencyB!==null&&currencyB!==void 0?currencyB:undefined,size:24})),/*#__PURE__*/React.createElement(DataRow,{style:{gap:'24px'}},/*#__PURE__*/React.createElement(PoolData,null,/*#__PURE__*/React.createElement(AutoColumn,{gap:\"sm\"},/*#__PURE__*/React.createElement(TYPE.body,{style:{margin:0}},\"Total deposits\"),/*#__PURE__*/React.createElement(TYPE.body,{fontSize:24,fontWeight:500},valueOfTotalStakedAmountInUSDC?\"$\".concat(valueOfTotalStakedAmountInUSDC.toFixed(0,{groupSeparator:','})):\"\".concat((_valueOfTotalStakedAm=(_valueOfTotalStakedAm2=valueOfTotalStakedAmountInWETH)===null||_valueOfTotalStakedAm2===void 0?void 0:_valueOfTotalStakedAm2.toSignificant(4,{groupSeparator:','}))!==null&&_valueOfTotalStakedAm!==void 0?_valueOfTotalStakedAm:'-',\" ETH\")))),/*#__PURE__*/React.createElement(PoolData,null,/*#__PURE__*/React.createElement(AutoColumn,{gap:\"sm\"},/*#__PURE__*/React.createElement(TYPE.body,{style:{margin:0}},\"Pool Rate\"),/*#__PURE__*/React.createElement(TYPE.body,{fontSize:24,fontWeight:500},(stakingInfo===null||stakingInfo===void 0?void 0:stakingInfo.active)?(_stakingInfo$totalRew=stakingInfo===null||stakingInfo===void 0?void 0:(_stakingInfo$totalRew2=stakingInfo.totalRewardRate)===null||_stakingInfo$totalRew2===void 0?void 0:(_stakingInfo$totalRew3=_stakingInfo$totalRew2.multiply(BIG_INT_SECONDS_IN_WEEK))===null||_stakingInfo$totalRew3===void 0?void 0:_stakingInfo$totalRew3.toFixed(0,{groupSeparator:','}))!==null&&_stakingInfo$totalRew!==void 0?_stakingInfo$totalRew:'-':'0',' UNI / week')))),showAddLiquidityButton&&/*#__PURE__*/React.createElement(VoteCard,null,/*#__PURE__*/React.createElement(CardBGImage,null),/*#__PURE__*/React.createElement(CardNoise,null),/*#__PURE__*/React.createElement(CardSection,null,/*#__PURE__*/React.createElement(AutoColumn,{gap:\"md\"},/*#__PURE__*/React.createElement(RowBetween,null,/*#__PURE__*/React.createElement(TYPE.white,{fontWeight:600},\"Step 1. Get UNI-V2 Liquidity tokens\")),/*#__PURE__*/React.createElement(RowBetween,{style:{marginBottom:'1rem'}},/*#__PURE__*/React.createElement(TYPE.white,{fontSize:14},\"UNI-V2 LP tokens are required. Once you've added liquidity to the \".concat(currencyA===null||currencyA===void 0?void 0:currencyA.symbol,\"-\").concat(currencyB===null||currencyB===void 0?void 0:currencyB.symbol,\" pool you can stake your liquidity tokens on this page.\"))),/*#__PURE__*/React.createElement(ButtonPrimary,{padding:\"8px\",borderRadius:\"8px\",width:'fit-content',as:Link,to:\"/add/\".concat(currencyA&&currencyId(currencyA),\"/\").concat(currencyB&&currencyId(currencyB))},\"Add \".concat(currencyA===null||currencyA===void 0?void 0:currencyA.symbol,\"-\").concat(currencyB===null||currencyB===void 0?void 0:currencyB.symbol,\" liquidity\")))),/*#__PURE__*/React.createElement(CardBGImage,null),/*#__PURE__*/React.createElement(CardNoise,null)),stakingInfo&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(StakingModal,{isOpen:showStakingModal,onDismiss:function onDismiss(){return setShowStakingModal(false);},stakingInfo:stakingInfo,userLiquidityUnstaked:userLiquidityUnstaked}),/*#__PURE__*/React.createElement(UnstakingModal,{isOpen:showUnstakingModal,onDismiss:function onDismiss(){return setShowUnstakingModal(false);},stakingInfo:stakingInfo}),/*#__PURE__*/React.createElement(ClaimRewardModal,{isOpen:showClaimRewardModal,onDismiss:function onDismiss(){return setShowClaimRewardModal(false);},stakingInfo:stakingInfo})),/*#__PURE__*/React.createElement(PositionInfo,{gap:\"lg\",justify:\"center\",dim:showAddLiquidityButton},/*#__PURE__*/React.createElement(BottomSection,{gap:\"lg\",justify:\"center\"},/*#__PURE__*/React.createElement(StyledDataCard,{disabled:disableTop,bgColor:backgroundColor,showBackground:!showAddLiquidityButton},/*#__PURE__*/React.createElement(CardSection,null,/*#__PURE__*/React.createElement(CardBGImage,{desaturate:true}),/*#__PURE__*/React.createElement(CardNoise,null),/*#__PURE__*/React.createElement(AutoColumn,{gap:\"md\"},/*#__PURE__*/React.createElement(RowBetween,null,/*#__PURE__*/React.createElement(TYPE.white,{fontWeight:600},\"Your liquidity deposits\")),/*#__PURE__*/React.createElement(RowBetween,{style:{alignItems:'baseline'}},/*#__PURE__*/React.createElement(TYPE.white,{fontSize:36,fontWeight:600},(_stakingInfo$stakedAm4=stakingInfo===null||stakingInfo===void 0?void 0:(_stakingInfo$stakedAm5=stakingInfo.stakedAmount)===null||_stakingInfo$stakedAm5===void 0?void 0:_stakingInfo$stakedAm5.toSignificant(6))!==null&&_stakingInfo$stakedAm4!==void 0?_stakingInfo$stakedAm4:'-'),/*#__PURE__*/React.createElement(TYPE.white,null,\"UNI-V2 \",currencyA===null||currencyA===void 0?void 0:currencyA.symbol,\"-\",currencyB===null||currencyB===void 0?void 0:currencyB.symbol))))),/*#__PURE__*/React.createElement(StyledBottomCard,{dim:stakingInfo===null||stakingInfo===void 0?void 0:(_stakingInfo$stakedAm6=stakingInfo.stakedAmount)===null||_stakingInfo$stakedAm6===void 0?void 0:_stakingInfo$stakedAm6.equalTo(JSBI.BigInt(0))},/*#__PURE__*/React.createElement(CardBGImage,{desaturate:true}),/*#__PURE__*/React.createElement(CardNoise,null),/*#__PURE__*/React.createElement(AutoColumn,{gap:\"sm\"},/*#__PURE__*/React.createElement(RowBetween,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(TYPE.black,null,\"Your unclaimed UNI\")),(stakingInfo===null||stakingInfo===void 0?void 0:stakingInfo.earnedAmount)&&JSBI.notEqual(BIG_INT_ZERO,stakingInfo===null||stakingInfo===void 0?void 0:(_stakingInfo$earnedAm3=stakingInfo.earnedAmount)===null||_stakingInfo$earnedAm3===void 0?void 0:_stakingInfo$earnedAm3.raw)&&/*#__PURE__*/React.createElement(ButtonEmpty,{padding:\"8px\",borderRadius:\"8px\",width:\"fit-content\",onClick:function onClick(){return setShowClaimRewardModal(true);}},\"Claim\")),/*#__PURE__*/React.createElement(RowBetween,{style:{alignItems:'baseline'}},/*#__PURE__*/React.createElement(TYPE.largeHeader,{fontSize:36,fontWeight:600},/*#__PURE__*/React.createElement(CountUp,{key:countUpAmount,isCounting:true,decimalPlaces:4,start:parseFloat(countUpAmountPrevious),end:parseFloat(countUpAmount),thousandsSeparator:',',duration:1})),/*#__PURE__*/React.createElement(TYPE.black,{fontSize:16,fontWeight:500},/*#__PURE__*/React.createElement(\"span\",{role:\"img\",\"aria-label\":\"wizard-icon\",style:{marginRight:'8px '}},\"\\u26A1\"),(stakingInfo===null||stakingInfo===void 0?void 0:stakingInfo.active)?(_stakingInfo$rewardRa=stakingInfo===null||stakingInfo===void 0?void 0:(_stakingInfo$rewardRa2=stakingInfo.rewardRate)===null||_stakingInfo$rewardRa2===void 0?void 0:(_stakingInfo$rewardRa3=_stakingInfo$rewardRa2.multiply(BIG_INT_SECONDS_IN_WEEK))===null||_stakingInfo$rewardRa3===void 0?void 0:_stakingInfo$rewardRa3.toSignificant(4,{groupSeparator:','}))!==null&&_stakingInfo$rewardRa!==void 0?_stakingInfo$rewardRa:'-':'0',' UNI / week'))))),/*#__PURE__*/React.createElement(TYPE.main,{style:{textAlign:'center'},fontSize:14},/*#__PURE__*/React.createElement(\"span\",{role:\"img\",\"aria-label\":\"wizard-icon\",style:{marginRight:'8px'}},\"\\u2B50\\uFE0F\"),\"When you withdraw, the contract will automagically claim UNI on your behalf!\"),!showAddLiquidityButton&&/*#__PURE__*/React.createElement(DataRow,{style:{marginBottom:'1rem'}},stakingInfo&&stakingInfo.active&&/*#__PURE__*/React.createElement(ButtonPrimary,{padding:\"8px\",borderRadius:\"8px\",width:\"160px\",onClick:handleDepositClick},(stakingInfo===null||stakingInfo===void 0?void 0:(_stakingInfo$stakedAm7=stakingInfo.stakedAmount)===null||_stakingInfo$stakedAm7===void 0?void 0:_stakingInfo$stakedAm7.greaterThan(JSBI.BigInt(0)))?'Deposit':'Deposit UNI-V2 LP Tokens'),(stakingInfo===null||stakingInfo===void 0?void 0:(_stakingInfo$stakedAm8=stakingInfo.stakedAmount)===null||_stakingInfo$stakedAm8===void 0?void 0:_stakingInfo$stakedAm8.greaterThan(JSBI.BigInt(0)))&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ButtonPrimary,{padding:\"8px\",borderRadius:\"8px\",width:\"160px\",onClick:function onClick(){return setShowUnstakingModal(true);}},\"Withdraw\"))),!userLiquidityUnstaked?null:userLiquidityUnstaked.equalTo('0')?null:!(stakingInfo===null||stakingInfo===void 0?void 0:stakingInfo.active)?null:/*#__PURE__*/React.createElement(TYPE.main,null,userLiquidityUnstaked.toSignificant(6),\" UNI-V2 LP tokens available\")));}","map":{"version":3,"sources":["/projects/testswap/uniswap-interface/src/pages/Earn/Manage.tsx"],"names":["React","useCallback","useState","AutoColumn","styled","Link","JSBI","TokenAmount","ETHER","DoubleCurrencyLogo","useCurrency","useWalletModalToggle","TYPE","RowBetween","CardSection","DataCard","CardNoise","CardBGImage","ButtonPrimary","ButtonEmpty","StakingModal","useStakingInfo","UnstakingModal","ClaimRewardModal","useTokenBalance","useActiveWeb3React","useColor","CountUp","wrappedCurrency","currencyId","useTotalSupply","usePair","usePrevious","useUSDCPrice","BIG_INT_ZERO","BIG_INT_SECONDS_IN_WEEK","PageWrapper","PositionInfo","dim","BottomSection","StyledDataCard","theme","bgColor","showBackground","black","bg5","StyledBottomCard","bg3","PoolData","bg4","VoteCard","DataRow","mediaWidth","upToSmall","Manage","match","params","currencyIdA","currencyIdB","account","chainId","currencyA","currencyB","tokenA","undefined","tokenB","stakingTokenPair","stakingInfo","userLiquidityUnstaked","stakedAmount","token","showAddLiquidityButton","Boolean","equalTo","showStakingModal","setShowStakingModal","showUnstakingModal","setShowUnstakingModal","showClaimRewardModal","setShowClaimRewardModal","disableTop","BigInt","WETH","backgroundColor","totalSupplyOfStakingToken","valueOfTotalStakedAmountInWETH","divide","multiply","totalStakedAmount","raw","reserveOf","countUpAmount","earnedAmount","toFixed","countUpAmountPrevious","USDPrice","valueOfTotalStakedAmountInUSDC","quote","toggleWalletModal","handleDepositClick","gap","margin","symbol","groupSeparator","toSignificant","active","totalRewardRate","marginBottom","alignItems","notEqual","parseFloat","marginRight","rewardRate","textAlign","greaterThan"],"mappings":"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","sourcesContent":["import React, { useCallback, useState } from 'react'\nimport { AutoColumn } from '../../components/Column'\nimport styled from 'styled-components'\nimport { Link } from 'react-router-dom'\n\nimport { JSBI, TokenAmount, ETHER } from '@uniswap/sdk'\nimport { RouteComponentProps } from 'react-router-dom'\nimport DoubleCurrencyLogo from '../../components/DoubleLogo'\nimport { useCurrency } from '../../hooks/Tokens'\nimport { useWalletModalToggle } from '../../state/application/hooks'\nimport { TYPE } from '../../theme'\n\nimport { RowBetween } from '../../components/Row'\nimport { CardSection, DataCard, CardNoise, CardBGImage } from '../../components/earn/styled'\nimport { ButtonPrimary, ButtonEmpty } from '../../components/Button'\nimport StakingModal from '../../components/earn/StakingModal'\nimport { useStakingInfo } from '../../state/stake/hooks'\nimport UnstakingModal from '../../components/earn/UnstakingModal'\nimport ClaimRewardModal from '../../components/earn/ClaimRewardModal'\nimport { useTokenBalance } from '../../state/wallet/hooks'\nimport { useActiveWeb3React } from '../../hooks'\nimport { useColor } from '../../hooks/useColor'\nimport { CountUp } from 'use-count-up'\n\nimport { wrappedCurrency } from '../../utils/wrappedCurrency'\nimport { currencyId } from '../../utils/currencyId'\nimport { useTotalSupply } from '../../data/TotalSupply'\nimport { usePair } from '../../data/Reserves'\nimport usePrevious from '../../hooks/usePrevious'\nimport useUSDCPrice from '../../utils/useUSDCPrice'\nimport { BIG_INT_ZERO, BIG_INT_SECONDS_IN_WEEK } from '../../constants'\n\nconst PageWrapper = styled(AutoColumn)`\n  max-width: 640px;\n  width: 100%;\n`\n\nconst PositionInfo = styled(AutoColumn)<{ dim: any }>`\n  position: relative;\n  max-width: 640px;\n  width: 100%;\n  opacity: ${({ dim }) => (dim ? 0.6 : 1)};\n`\n\nconst BottomSection = styled(AutoColumn)`\n  border-radius: 12px;\n  width: 100%;\n  position: relative;\n`\n\nconst StyledDataCard = styled(DataCard)<{ bgColor?: any; showBackground?: any }>`\n  background: radial-gradient(76.02% 75.41% at 1.84% 0%, #1e1a31 0%, #3d51a5 100%);\n  z-index: 2;\n  box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);\n  background: ${({ theme, bgColor, showBackground }) =>\n    `radial-gradient(91.85% 100% at 1.84% 0%, ${bgColor} 0%,  ${showBackground ? theme.black : theme.bg5} 100%) `};\n`\n\nconst StyledBottomCard = styled(DataCard)<{ dim: any }>`\n  background: ${({ theme }) => theme.bg3};\n  opacity: ${({ dim }) => (dim ? 0.4 : 1)};\n  margin-top: -40px;\n  padding: 0 1.25rem 1rem 1.25rem;\n  padding-top: 32px;\n  z-index: 1;\n`\n\nconst PoolData = styled(DataCard)`\n  background: none;\n  border: 1px solid ${({ theme }) => theme.bg4};\n  padding: 1rem;\n  z-index: 1;\n`\n\nconst VoteCard = styled(DataCard)`\n  background: radial-gradient(76.02% 75.41% at 1.84% 0%, #27ae60 0%, #000000 100%);\n  overflow: hidden;\n`\n\nconst DataRow = styled(RowBetween)`\n  justify-content: center;\n  gap: 12px;\n\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    flex-direction: column;\n    gap: 12px;\n  `};\n`\n\nexport default function Manage({\n  match: {\n    params: { currencyIdA, currencyIdB }\n  }\n}: RouteComponentProps<{ currencyIdA: string; currencyIdB: string }>) {\n  const { account, chainId } = useActiveWeb3React()\n\n  // get currencies and pair\n  const [currencyA, currencyB] = [useCurrency(currencyIdA), useCurrency(currencyIdB)]\n  const tokenA = wrappedCurrency(currencyA ?? undefined, chainId)\n  const tokenB = wrappedCurrency(currencyB ?? undefined, chainId)\n\n  const [, stakingTokenPair] = usePair(tokenA, tokenB)\n  const stakingInfo = useStakingInfo(stakingTokenPair)?.[0]\n\n  // detect existing unstaked LP position to show add button if none found\n  const userLiquidityUnstaked = useTokenBalance(account ?? undefined, stakingInfo?.stakedAmount?.token)\n  const showAddLiquidityButton = Boolean(stakingInfo?.stakedAmount?.equalTo('0') && userLiquidityUnstaked?.equalTo('0'))\n\n  // toggle for staking modal and unstaking modal\n  const [showStakingModal, setShowStakingModal] = useState(false)\n  const [showUnstakingModal, setShowUnstakingModal] = useState(false)\n  const [showClaimRewardModal, setShowClaimRewardModal] = useState(false)\n\n  // fade cards if nothing staked or nothing earned yet\n  const disableTop = !stakingInfo?.stakedAmount || stakingInfo.stakedAmount.equalTo(JSBI.BigInt(0))\n\n  const token = currencyA === ETHER ? tokenB : tokenA\n  const WETH = currencyA === ETHER ? tokenA : tokenB\n  const backgroundColor = useColor(token)\n\n  // get WETH value of staked LP tokens\n  const totalSupplyOfStakingToken = useTotalSupply(stakingInfo?.stakedAmount?.token)\n  let valueOfTotalStakedAmountInWETH: TokenAmount | undefined\n  if (totalSupplyOfStakingToken && stakingTokenPair && stakingInfo && WETH) {\n    // take the total amount of LP tokens staked, multiply by ETH value of all LP tokens, divide by all LP tokens\n    valueOfTotalStakedAmountInWETH = new TokenAmount(\n      WETH,\n      JSBI.divide(\n        JSBI.multiply(\n          JSBI.multiply(stakingInfo.totalStakedAmount.raw, stakingTokenPair.reserveOf(WETH).raw),\n          JSBI.BigInt(2) // this is b/c the value of LP shares are ~double the value of the WETH they entitle owner to\n        ),\n        totalSupplyOfStakingToken.raw\n      )\n    )\n  }\n\n  const countUpAmount = stakingInfo?.earnedAmount?.toFixed(6) ?? '0'\n  const countUpAmountPrevious = usePrevious(countUpAmount) ?? '0'\n\n  // get the USD value of staked WETH\n  const USDPrice = useUSDCPrice(WETH)\n  const valueOfTotalStakedAmountInUSDC =\n    valueOfTotalStakedAmountInWETH && USDPrice?.quote(valueOfTotalStakedAmountInWETH)\n\n  const toggleWalletModal = useWalletModalToggle()\n\n  const handleDepositClick = useCallback(() => {\n    if (account) {\n      setShowStakingModal(true)\n    } else {\n      toggleWalletModal()\n    }\n  }, [account, toggleWalletModal])\n\n  return (\n    <PageWrapper gap=\"lg\" justify=\"center\">\n      <RowBetween style={{ gap: '24px' }}>\n        <TYPE.mediumHeader style={{ margin: 0 }}>\n          {currencyA?.symbol}-{currencyB?.symbol} Liquidity Mining\n        </TYPE.mediumHeader>\n        <DoubleCurrencyLogo currency0={currencyA ?? undefined} currency1={currencyB ?? undefined} size={24} />\n      </RowBetween>\n\n      <DataRow style={{ gap: '24px' }}>\n        <PoolData>\n          <AutoColumn gap=\"sm\">\n            <TYPE.body style={{ margin: 0 }}>Total deposits</TYPE.body>\n            <TYPE.body fontSize={24} fontWeight={500}>\n              {valueOfTotalStakedAmountInUSDC\n                ? `$${valueOfTotalStakedAmountInUSDC.toFixed(0, { groupSeparator: ',' })}`\n                : `${valueOfTotalStakedAmountInWETH?.toSignificant(4, { groupSeparator: ',' }) ?? '-'} ETH`}\n            </TYPE.body>\n          </AutoColumn>\n        </PoolData>\n        <PoolData>\n          <AutoColumn gap=\"sm\">\n            <TYPE.body style={{ margin: 0 }}>Pool Rate</TYPE.body>\n            <TYPE.body fontSize={24} fontWeight={500}>\n              {stakingInfo?.active\n                ? stakingInfo?.totalRewardRate\n                    ?.multiply(BIG_INT_SECONDS_IN_WEEK)\n                    ?.toFixed(0, { groupSeparator: ',' }) ?? '-'\n                : '0'}\n              {' UNI / week'}\n            </TYPE.body>\n          </AutoColumn>\n        </PoolData>\n      </DataRow>\n\n      {showAddLiquidityButton && (\n        <VoteCard>\n          <CardBGImage />\n          <CardNoise />\n          <CardSection>\n            <AutoColumn gap=\"md\">\n              <RowBetween>\n                <TYPE.white fontWeight={600}>Step 1. Get UNI-V2 Liquidity tokens</TYPE.white>\n              </RowBetween>\n              <RowBetween style={{ marginBottom: '1rem' }}>\n                <TYPE.white fontSize={14}>\n                  {`UNI-V2 LP tokens are required. Once you've added liquidity to the ${currencyA?.symbol}-${currencyB?.symbol} pool you can stake your liquidity tokens on this page.`}\n                </TYPE.white>\n              </RowBetween>\n              <ButtonPrimary\n                padding=\"8px\"\n                borderRadius=\"8px\"\n                width={'fit-content'}\n                as={Link}\n                to={`/add/${currencyA && currencyId(currencyA)}/${currencyB && currencyId(currencyB)}`}\n              >\n                {`Add ${currencyA?.symbol}-${currencyB?.symbol} liquidity`}\n              </ButtonPrimary>\n            </AutoColumn>\n          </CardSection>\n          <CardBGImage />\n          <CardNoise />\n        </VoteCard>\n      )}\n\n      {stakingInfo && (\n        <>\n          <StakingModal\n            isOpen={showStakingModal}\n            onDismiss={() => setShowStakingModal(false)}\n            stakingInfo={stakingInfo}\n            userLiquidityUnstaked={userLiquidityUnstaked}\n          />\n          <UnstakingModal\n            isOpen={showUnstakingModal}\n            onDismiss={() => setShowUnstakingModal(false)}\n            stakingInfo={stakingInfo}\n          />\n          <ClaimRewardModal\n            isOpen={showClaimRewardModal}\n            onDismiss={() => setShowClaimRewardModal(false)}\n            stakingInfo={stakingInfo}\n          />\n        </>\n      )}\n\n      <PositionInfo gap=\"lg\" justify=\"center\" dim={showAddLiquidityButton}>\n        <BottomSection gap=\"lg\" justify=\"center\">\n          <StyledDataCard disabled={disableTop} bgColor={backgroundColor} showBackground={!showAddLiquidityButton}>\n            <CardSection>\n              <CardBGImage desaturate />\n              <CardNoise />\n              <AutoColumn gap=\"md\">\n                <RowBetween>\n                  <TYPE.white fontWeight={600}>Your liquidity deposits</TYPE.white>\n                </RowBetween>\n                <RowBetween style={{ alignItems: 'baseline' }}>\n                  <TYPE.white fontSize={36} fontWeight={600}>\n                    {stakingInfo?.stakedAmount?.toSignificant(6) ?? '-'}\n                  </TYPE.white>\n                  <TYPE.white>\n                    UNI-V2 {currencyA?.symbol}-{currencyB?.symbol}\n                  </TYPE.white>\n                </RowBetween>\n              </AutoColumn>\n            </CardSection>\n          </StyledDataCard>\n          <StyledBottomCard dim={stakingInfo?.stakedAmount?.equalTo(JSBI.BigInt(0))}>\n            <CardBGImage desaturate />\n            <CardNoise />\n            <AutoColumn gap=\"sm\">\n              <RowBetween>\n                <div>\n                  <TYPE.black>Your unclaimed UNI</TYPE.black>\n                </div>\n                {stakingInfo?.earnedAmount && JSBI.notEqual(BIG_INT_ZERO, stakingInfo?.earnedAmount?.raw) && (\n                  <ButtonEmpty\n                    padding=\"8px\"\n                    borderRadius=\"8px\"\n                    width=\"fit-content\"\n                    onClick={() => setShowClaimRewardModal(true)}\n                  >\n                    Claim\n                  </ButtonEmpty>\n                )}\n              </RowBetween>\n              <RowBetween style={{ alignItems: 'baseline' }}>\n                <TYPE.largeHeader fontSize={36} fontWeight={600}>\n                  <CountUp\n                    key={countUpAmount}\n                    isCounting\n                    decimalPlaces={4}\n                    start={parseFloat(countUpAmountPrevious)}\n                    end={parseFloat(countUpAmount)}\n                    thousandsSeparator={','}\n                    duration={1}\n                  />\n                </TYPE.largeHeader>\n                <TYPE.black fontSize={16} fontWeight={500}>\n                  <span role=\"img\" aria-label=\"wizard-icon\" style={{ marginRight: '8px ' }}>\n                    ⚡\n                  </span>\n                  {stakingInfo?.active\n                    ? stakingInfo?.rewardRate\n                        ?.multiply(BIG_INT_SECONDS_IN_WEEK)\n                        ?.toSignificant(4, { groupSeparator: ',' }) ?? '-'\n                    : '0'}\n                  {' UNI / week'}\n                </TYPE.black>\n              </RowBetween>\n            </AutoColumn>\n          </StyledBottomCard>\n        </BottomSection>\n        <TYPE.main style={{ textAlign: 'center' }} fontSize={14}>\n          <span role=\"img\" aria-label=\"wizard-icon\" style={{ marginRight: '8px' }}>\n            ⭐️\n          </span>\n          When you withdraw, the contract will automagically claim UNI on your behalf!\n        </TYPE.main>\n\n        {!showAddLiquidityButton && (\n          <DataRow style={{ marginBottom: '1rem' }}>\n            {stakingInfo && stakingInfo.active && (\n              <ButtonPrimary padding=\"8px\" borderRadius=\"8px\" width=\"160px\" onClick={handleDepositClick}>\n                {stakingInfo?.stakedAmount?.greaterThan(JSBI.BigInt(0)) ? 'Deposit' : 'Deposit UNI-V2 LP Tokens'}\n              </ButtonPrimary>\n            )}\n\n            {stakingInfo?.stakedAmount?.greaterThan(JSBI.BigInt(0)) && (\n              <>\n                <ButtonPrimary\n                  padding=\"8px\"\n                  borderRadius=\"8px\"\n                  width=\"160px\"\n                  onClick={() => setShowUnstakingModal(true)}\n                >\n                  Withdraw\n                </ButtonPrimary>\n              </>\n            )}\n          </DataRow>\n        )}\n        {!userLiquidityUnstaked ? null : userLiquidityUnstaked.equalTo('0') ? null : !stakingInfo?.active ? null : (\n          <TYPE.main>{userLiquidityUnstaked.toSignificant(6)} UNI-V2 LP tokens available</TYPE.main>\n        )}\n      </PositionInfo>\n    </PageWrapper>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}