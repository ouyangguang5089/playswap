{"ast":null,"code":"import _slicedToArray from\"/projects/testswap/uniswap-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useCallback,useEffect,useState}from'react';import useLast from'../../hooks/useLast';import Modal from'../Modal';import{CurrencySearch}from'./CurrencySearch';import{ImportToken}from'./ImportToken';import usePrevious from'hooks/usePrevious';import Manage from'./Manage';import{ImportList}from'./ImportList';export var CurrencyModalView;(function(CurrencyModalView){CurrencyModalView[CurrencyModalView[\"search\"]=0]=\"search\";CurrencyModalView[CurrencyModalView[\"manage\"]=1]=\"manage\";CurrencyModalView[CurrencyModalView[\"importToken\"]=2]=\"importToken\";CurrencyModalView[CurrencyModalView[\"importList\"]=3]=\"importList\";})(CurrencyModalView||(CurrencyModalView={}));export default function CurrencySearchModal(_ref){var isOpen=_ref.isOpen,onDismiss=_ref.onDismiss,onCurrencySelect=_ref.onCurrencySelect,selectedCurrency=_ref.selectedCurrency,otherSelectedCurrency=_ref.otherSelectedCurrency,_ref$showCommonBases=_ref.showCommonBases,showCommonBases=_ref$showCommonBases===void 0?false:_ref$showCommonBases;var _useState=useState(CurrencyModalView.manage),_useState2=_slicedToArray(_useState,2),modalView=_useState2[0],setModalView=_useState2[1];var lastOpen=useLast(isOpen);useEffect(function(){if(isOpen&&!lastOpen){setModalView(CurrencyModalView.search);}},[isOpen,lastOpen]);var handleCurrencySelect=useCallback(function(currency){onCurrencySelect(currency);onDismiss();},[onDismiss,onCurrencySelect]);// for token import view\nvar prevView=usePrevious(modalView);// used for import token flow\nvar _useState3=useState(),_useState4=_slicedToArray(_useState3,2),importToken=_useState4[0],setImportToken=_useState4[1];// used for import list\nvar _useState5=useState(),_useState6=_slicedToArray(_useState5,2),importList=_useState6[0],setImportList=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),listURL=_useState8[0],setListUrl=_useState8[1];// change min height if not searching\nvar minHeight=modalView===CurrencyModalView.importToken||modalView===CurrencyModalView.importList?40:80;return/*#__PURE__*/React.createElement(Modal,{isOpen:isOpen,onDismiss:onDismiss,maxHeight:80,minHeight:minHeight},modalView===CurrencyModalView.search?/*#__PURE__*/React.createElement(CurrencySearch,{isOpen:isOpen,onDismiss:onDismiss,onCurrencySelect:handleCurrencySelect,selectedCurrency:selectedCurrency,otherSelectedCurrency:otherSelectedCurrency,showCommonBases:showCommonBases,showImportView:function showImportView(){return setModalView(CurrencyModalView.importToken);},setImportToken:setImportToken,showManageView:function showManageView(){return setModalView(CurrencyModalView.manage);}}):modalView===CurrencyModalView.importToken&&importToken?/*#__PURE__*/React.createElement(ImportToken,{tokens:[importToken],onDismiss:onDismiss,onBack:function onBack(){return setModalView(prevView&&prevView!==CurrencyModalView.importToken?prevView:CurrencyModalView.search);},handleCurrencySelect:handleCurrencySelect}):modalView===CurrencyModalView.importList&&importList&&listURL?/*#__PURE__*/React.createElement(ImportList,{list:importList,listURL:listURL,onDismiss:onDismiss,setModalView:setModalView}):modalView===CurrencyModalView.manage?/*#__PURE__*/React.createElement(Manage,{onDismiss:onDismiss,setModalView:setModalView,setImportToken:setImportToken,setImportList:setImportList,setListUrl:setListUrl}):'');}","map":{"version":3,"sources":["/projects/testswap/uniswap-interface/src/components/SearchModal/CurrencySearchModal.tsx"],"names":["React","useCallback","useEffect","useState","useLast","Modal","CurrencySearch","ImportToken","usePrevious","Manage","ImportList","CurrencyModalView","CurrencySearchModal","isOpen","onDismiss","onCurrencySelect","selectedCurrency","otherSelectedCurrency","showCommonBases","manage","modalView","setModalView","lastOpen","search","handleCurrencySelect","currency","prevView","importToken","setImportToken","importList","setImportList","listURL","setListUrl","minHeight"],"mappings":"2JACA,MAAOA,CAAAA,KAAP,EAAgBC,WAAhB,CAA6BC,SAA7B,CAAwCC,QAAxC,KAAwD,OAAxD,CACA,MAAOC,CAAAA,OAAP,KAAoB,qBAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,UAAlB,CACA,OAASC,cAAT,KAA+B,kBAA/B,CACA,OAASC,WAAT,KAA4B,eAA5B,CACA,MAAOC,CAAAA,WAAP,KAAwB,mBAAxB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CAEA,OAASC,UAAT,KAA2B,cAA3B,CAWA,UAAYC,CAAAA,iBAAZ,C,UAAYA,iB,EAAAA,iB,CAAAA,iB,uBAAAA,iB,CAAAA,iB,uBAAAA,iB,CAAAA,iB,iCAAAA,iB,CAAAA,iB,kCAAAA,iB,GAAAA,iB,MAOZ,cAAe,SAASC,CAAAA,mBAAT,MAOc,IAN3BC,CAAAA,MAM2B,MAN3BA,MAM2B,CAL3BC,SAK2B,MAL3BA,SAK2B,CAJ3BC,gBAI2B,MAJ3BA,gBAI2B,CAH3BC,gBAG2B,MAH3BA,gBAG2B,CAF3BC,qBAE2B,MAF3BA,qBAE2B,2BAD3BC,eAC2B,CAD3BA,eAC2B,+BADT,KACS,oCACOf,QAAQ,CAAoBQ,iBAAiB,CAACQ,MAAtC,CADf,wCACpBC,SADoB,eACTC,YADS,eAE3B,GAAMC,CAAAA,QAAQ,CAAGlB,OAAO,CAACS,MAAD,CAAxB,CAEAX,SAAS,CAAC,UAAM,CACd,GAAIW,MAAM,EAAI,CAACS,QAAf,CAAyB,CACvBD,YAAY,CAACV,iBAAiB,CAACY,MAAnB,CAAZ,CACD,CACF,CAJQ,CAIN,CAACV,MAAD,CAASS,QAAT,CAJM,CAAT,CAMA,GAAME,CAAAA,oBAAoB,CAAGvB,WAAW,CACtC,SAACwB,QAAD,CAAwB,CACtBV,gBAAgB,CAACU,QAAD,CAAhB,CACAX,SAAS,GACV,CAJqC,CAKtC,CAACA,SAAD,CAAYC,gBAAZ,CALsC,CAAxC,CAQA;AACA,GAAMW,CAAAA,QAAQ,CAAGlB,WAAW,CAACY,SAAD,CAA5B,CAEA;AArB2B,eAsBWjB,QAAQ,EAtBnB,yCAsBpBwB,WAtBoB,eAsBPC,cAtBO,eAwB3B;AAxB2B,eAyBSzB,QAAQ,EAzBjB,yCAyBpB0B,UAzBoB,eAyBRC,aAzBQ,8BA0BG3B,QAAQ,EA1BX,yCA0BpB4B,OA1BoB,eA0BXC,UA1BW,eA4B3B;AACA,GAAMC,CAAAA,SAAS,CAAGb,SAAS,GAAKT,iBAAiB,CAACgB,WAAhC,EAA+CP,SAAS,GAAKT,iBAAiB,CAACkB,UAA/E,CAA4F,EAA5F,CAAiG,EAAnH,CAEA,mBACE,oBAAC,KAAD,EAAO,MAAM,CAAEhB,MAAf,CAAuB,SAAS,CAAEC,SAAlC,CAA6C,SAAS,CAAE,EAAxD,CAA4D,SAAS,CAAEmB,SAAvE,EACGb,SAAS,GAAKT,iBAAiB,CAACY,MAAhC,cACC,oBAAC,cAAD,EACE,MAAM,CAAEV,MADV,CAEE,SAAS,CAAEC,SAFb,CAGE,gBAAgB,CAAEU,oBAHpB,CAIE,gBAAgB,CAAER,gBAJpB,CAKE,qBAAqB,CAAEC,qBALzB,CAME,eAAe,CAAEC,eANnB,CAOE,cAAc,CAAE,gCAAMG,CAAAA,YAAY,CAACV,iBAAiB,CAACgB,WAAnB,CAAlB,EAPlB,CAQE,cAAc,CAAEC,cARlB,CASE,cAAc,CAAE,gCAAMP,CAAAA,YAAY,CAACV,iBAAiB,CAACQ,MAAnB,CAAlB,EATlB,EADD,CAYGC,SAAS,GAAKT,iBAAiB,CAACgB,WAAhC,EAA+CA,WAA/C,cACF,oBAAC,WAAD,EACE,MAAM,CAAE,CAACA,WAAD,CADV,CAEE,SAAS,CAAEb,SAFb,CAGE,MAAM,CAAE,wBACNO,CAAAA,YAAY,CAACK,QAAQ,EAAIA,QAAQ,GAAKf,iBAAiB,CAACgB,WAA3C,CAAyDD,QAAzD,CAAoEf,iBAAiB,CAACY,MAAvF,CADN,EAHV,CAME,oBAAoB,CAAEC,oBANxB,EADE,CASAJ,SAAS,GAAKT,iBAAiB,CAACkB,UAAhC,EAA8CA,UAA9C,EAA4DE,OAA5D,cACF,oBAAC,UAAD,EAAY,IAAI,CAAEF,UAAlB,CAA8B,OAAO,CAAEE,OAAvC,CAAgD,SAAS,CAAEjB,SAA3D,CAAsE,YAAY,CAAEO,YAApF,EADE,CAEAD,SAAS,GAAKT,iBAAiB,CAACQ,MAAhC,cACF,oBAAC,MAAD,EACE,SAAS,CAAEL,SADb,CAEE,YAAY,CAAEO,YAFhB,CAGE,cAAc,CAAEO,cAHlB,CAIE,aAAa,CAAEE,aAJjB,CAKE,UAAU,CAAEE,UALd,EADE,CASF,EAjCJ,CADF,CAsCD","sourcesContent":["import { Currency, Token } from '@uniswap/sdk'\nimport React, { useCallback, useEffect, useState } from 'react'\nimport useLast from '../../hooks/useLast'\nimport Modal from '../Modal'\nimport { CurrencySearch } from './CurrencySearch'\nimport { ImportToken } from './ImportToken'\nimport usePrevious from 'hooks/usePrevious'\nimport Manage from './Manage'\nimport { TokenList } from '@uniswap/token-lists'\nimport { ImportList } from './ImportList'\n\ninterface CurrencySearchModalProps {\n  isOpen: boolean\n  onDismiss: () => void\n  selectedCurrency?: Currency | null\n  onCurrencySelect: (currency: Currency) => void\n  otherSelectedCurrency?: Currency | null\n  showCommonBases?: boolean\n}\n\nexport enum CurrencyModalView {\n  search,\n  manage,\n  importToken,\n  importList\n}\n\nexport default function CurrencySearchModal({\n  isOpen,\n  onDismiss,\n  onCurrencySelect,\n  selectedCurrency,\n  otherSelectedCurrency,\n  showCommonBases = false\n}: CurrencySearchModalProps) {\n  const [modalView, setModalView] = useState<CurrencyModalView>(CurrencyModalView.manage)\n  const lastOpen = useLast(isOpen)\n\n  useEffect(() => {\n    if (isOpen && !lastOpen) {\n      setModalView(CurrencyModalView.search)\n    }\n  }, [isOpen, lastOpen])\n\n  const handleCurrencySelect = useCallback(\n    (currency: Currency) => {\n      onCurrencySelect(currency)\n      onDismiss()\n    },\n    [onDismiss, onCurrencySelect]\n  )\n\n  // for token import view\n  const prevView = usePrevious(modalView)\n\n  // used for import token flow\n  const [importToken, setImportToken] = useState<Token | undefined>()\n\n  // used for import list\n  const [importList, setImportList] = useState<TokenList | undefined>()\n  const [listURL, setListUrl] = useState<string | undefined>()\n\n  // change min height if not searching\n  const minHeight = modalView === CurrencyModalView.importToken || modalView === CurrencyModalView.importList ? 40 : 80\n\n  return (\n    <Modal isOpen={isOpen} onDismiss={onDismiss} maxHeight={80} minHeight={minHeight}>\n      {modalView === CurrencyModalView.search ? (\n        <CurrencySearch\n          isOpen={isOpen}\n          onDismiss={onDismiss}\n          onCurrencySelect={handleCurrencySelect}\n          selectedCurrency={selectedCurrency}\n          otherSelectedCurrency={otherSelectedCurrency}\n          showCommonBases={showCommonBases}\n          showImportView={() => setModalView(CurrencyModalView.importToken)}\n          setImportToken={setImportToken}\n          showManageView={() => setModalView(CurrencyModalView.manage)}\n        />\n      ) : modalView === CurrencyModalView.importToken && importToken ? (\n        <ImportToken\n          tokens={[importToken]}\n          onDismiss={onDismiss}\n          onBack={() =>\n            setModalView(prevView && prevView !== CurrencyModalView.importToken ? prevView : CurrencyModalView.search)\n          }\n          handleCurrencySelect={handleCurrencySelect}\n        />\n      ) : modalView === CurrencyModalView.importList && importList && listURL ? (\n        <ImportList list={importList} listURL={listURL} onDismiss={onDismiss} setModalView={setModalView} />\n      ) : modalView === CurrencyModalView.manage ? (\n        <Manage\n          onDismiss={onDismiss}\n          setModalView={setModalView}\n          setImportToken={setImportToken}\n          setImportList={setImportList}\n          setListUrl={setListUrl}\n        />\n      ) : (\n        ''\n      )}\n    </Modal>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}