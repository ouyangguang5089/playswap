{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DELTAE94_DIFF_STATUS = {\n  NA: 0,\n  PERFECT: 1,\n  CLOSE: 2,\n  GOOD: 10,\n  SIMILAR: 50\n};\nexports.SIGBITS = 5;\nexports.RSHIFT = 8 - exports.SIGBITS;\n\nfunction defer() {\n  var resolve;\n  var reject; // eslint-disable-next-line promise/param-names\n\n  var promise = new Promise(function (_resolve, _reject) {\n    resolve = _resolve;\n    reject = _reject;\n  }); // @ts-ignore\n\n  return {\n    resolve: resolve,\n    reject: reject,\n    promise: promise\n  };\n}\n\nexports.defer = defer;\n\nfunction hexToRgb(hex) {\n  var m = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return m === null ? null : [m[1], m[2], m[3]].map(function (s) {\n    return parseInt(s, 16);\n  });\n}\n\nexports.hexToRgb = hexToRgb;\n\nfunction rgbToHex(r, g, b) {\n  return '#' + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1, 7);\n}\n\nexports.rgbToHex = rgbToHex;\n\nfunction rgbToHsl(r, g, b) {\n  r /= 255;\n  g /= 255;\n  b /= 255;\n  var max = Math.max(r, g, b);\n  var min = Math.min(r, g, b);\n  var h;\n  var s;\n  var l = (max + min) / 2;\n\n  if (max === min) {\n    h = s = 0;\n  } else {\n    var d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n\n    switch (max) {\n      case r:\n        h = (g - b) / d + (g < b ? 6 : 0);\n        break;\n\n      case g:\n        h = (b - r) / d + 2;\n        break;\n\n      case b:\n        h = (r - g) / d + 4;\n        break;\n    } // @ts-ignore\n\n\n    h /= 6;\n  } // @ts-ignore\n\n\n  return [h, s, l];\n}\n\nexports.rgbToHsl = rgbToHsl;\n\nfunction hslToRgb(h, s, l) {\n  var r;\n  var g;\n  var b;\n\n  function hue2rgb(p, q, t) {\n    if (t < 0) t += 1;\n    if (t > 1) t -= 1;\n    if (t < 1 / 6) return p + (q - p) * 6 * t;\n    if (t < 1 / 2) return q;\n    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n    return p;\n  }\n\n  if (s === 0) {\n    r = g = b = l;\n  } else {\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    var p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1 / 3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1 / 3);\n  }\n\n  return [r * 255, g * 255, b * 255];\n}\n\nexports.hslToRgb = hslToRgb;\n\nfunction rgbToXyz(r, g, b) {\n  r /= 255;\n  g /= 255;\n  b /= 255;\n  r = r > 0.04045 ? Math.pow((r + 0.005) / 1.055, 2.4) : r / 12.92;\n  g = g > 0.04045 ? Math.pow((g + 0.005) / 1.055, 2.4) : g / 12.92;\n  b = b > 0.04045 ? Math.pow((b + 0.005) / 1.055, 2.4) : b / 12.92;\n  r *= 100;\n  g *= 100;\n  b *= 100;\n  var x = r * 0.4124 + g * 0.3576 + b * 0.1805;\n  var y = r * 0.2126 + g * 0.7152 + b * 0.0722;\n  var z = r * 0.0193 + g * 0.1192 + b * 0.9505;\n  return [x, y, z];\n}\n\nexports.rgbToXyz = rgbToXyz;\n\nfunction xyzToCIELab(x, y, z) {\n  var REF_X = 95.047;\n  var REF_Y = 100;\n  var REF_Z = 108.883;\n  x /= REF_X;\n  y /= REF_Y;\n  z /= REF_Z;\n  x = x > 0.008856 ? Math.pow(x, 1 / 3) : 7.787 * x + 16 / 116;\n  y = y > 0.008856 ? Math.pow(y, 1 / 3) : 7.787 * y + 16 / 116;\n  z = z > 0.008856 ? Math.pow(z, 1 / 3) : 7.787 * z + 16 / 116;\n  var L = 116 * y - 16;\n  var a = 500 * (x - y);\n  var b = 200 * (y - z);\n  return [L, a, b];\n}\n\nexports.xyzToCIELab = xyzToCIELab;\n\nfunction rgbToCIELab(r, g, b) {\n  var _a = rgbToXyz(r, g, b),\n      x = _a[0],\n      y = _a[1],\n      z = _a[2];\n\n  return xyzToCIELab(x, y, z);\n}\n\nexports.rgbToCIELab = rgbToCIELab;\n\nfunction deltaE94(lab1, lab2) {\n  var WEIGHT_L = 1;\n  var WEIGHT_C = 1;\n  var WEIGHT_H = 1;\n  var L1 = lab1[0],\n      a1 = lab1[1],\n      b1 = lab1[2];\n  var L2 = lab2[0],\n      a2 = lab2[1],\n      b2 = lab2[2];\n  var dL = L1 - L2;\n  var da = a1 - a2;\n  var db = b1 - b2;\n  var xC1 = Math.sqrt(a1 * a1 + b1 * b1);\n  var xC2 = Math.sqrt(a2 * a2 + b2 * b2);\n  var xDL = L2 - L1;\n  var xDC = xC2 - xC1;\n  var xDE = Math.sqrt(dL * dL + da * da + db * db);\n  var xDH = Math.sqrt(xDE) > Math.sqrt(Math.abs(xDL)) + Math.sqrt(Math.abs(xDC)) ? Math.sqrt(xDE * xDE - xDL * xDL - xDC * xDC) : 0;\n  var xSC = 1 + 0.045 * xC1;\n  var xSH = 1 + 0.015 * xC1;\n  xDL /= WEIGHT_L;\n  xDC /= WEIGHT_C * xSC;\n  xDH /= WEIGHT_H * xSH;\n  return Math.sqrt(xDL * xDL + xDC * xDC + xDH * xDH);\n}\n\nexports.deltaE94 = deltaE94;\n\nfunction rgbDiff(rgb1, rgb2) {\n  var lab1 = rgbToCIELab.apply(undefined, rgb1);\n  var lab2 = rgbToCIELab.apply(undefined, rgb2);\n  return deltaE94(lab1, lab2);\n}\n\nexports.rgbDiff = rgbDiff;\n\nfunction hexDiff(hex1, hex2) {\n  var rgb1 = hexToRgb(hex1);\n  var rgb2 = hexToRgb(hex2);\n  return rgbDiff(rgb1, rgb2);\n}\n\nexports.hexDiff = hexDiff;\n\nfunction getColorDiffStatus(d) {\n  if (d < exports.DELTAE94_DIFF_STATUS.NA) {\n    return 'N/A';\n  } // Not perceptible by human eyes\n\n\n  if (d <= exports.DELTAE94_DIFF_STATUS.PERFECT) {\n    return 'Perfect';\n  } // Perceptible through close observation\n\n\n  if (d <= exports.DELTAE94_DIFF_STATUS.CLOSE) {\n    return 'Close';\n  } // Perceptible at a glance\n\n\n  if (d <= exports.DELTAE94_DIFF_STATUS.GOOD) {\n    return 'Good';\n  } // Colors are more similar than opposite\n\n\n  if (d < exports.DELTAE94_DIFF_STATUS.SIMILAR) {\n    return 'Similar';\n  }\n\n  return 'Wrong';\n}\n\nexports.getColorDiffStatus = getColorDiffStatus;\n\nfunction getColorIndex(r, g, b) {\n  return (r << 2 * exports.SIGBITS) + (g << exports.SIGBITS) + b;\n}\n\nexports.getColorIndex = getColorIndex;","map":{"version":3,"sources":["../src/util.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DELTAE94_DIFF_STATUS = {\n    NA: 0,\n    PERFECT: 1,\n    CLOSE: 2,\n    GOOD: 10,\n    SIMILAR: 50\n};\nexports.SIGBITS = 5;\nexports.RSHIFT = 8 - exports.SIGBITS;\nfunction defer() {\n    var resolve;\n    var reject;\n    // eslint-disable-next-line promise/param-names\n    var promise = new Promise(function (_resolve, _reject) {\n        resolve = _resolve;\n        reject = _reject;\n    });\n    // @ts-ignore\n    return { resolve: resolve, reject: reject, promise: promise };\n}\nexports.defer = defer;\nfunction hexToRgb(hex) {\n    var m = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return m === null ? null : [m[1], m[2], m[3]].map(function (s) { return parseInt(s, 16); });\n}\nexports.hexToRgb = hexToRgb;\nfunction rgbToHex(r, g, b) {\n    return '#' + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1, 7);\n}\nexports.rgbToHex = rgbToHex;\nfunction rgbToHsl(r, g, b) {\n    r /= 255;\n    g /= 255;\n    b /= 255;\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var h;\n    var s;\n    var l = (max + min) / 2;\n    if (max === min) {\n        h = s = 0;\n    }\n    else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch (max) {\n            case r:\n                h = (g - b) / d + (g < b ? 6 : 0);\n                break;\n            case g:\n                h = (b - r) / d + 2;\n                break;\n            case b:\n                h = (r - g) / d + 4;\n                break;\n        }\n        // @ts-ignore\n        h /= 6;\n    }\n    // @ts-ignore\n    return [h, s, l];\n}\nexports.rgbToHsl = rgbToHsl;\nfunction hslToRgb(h, s, l) {\n    var r;\n    var g;\n    var b;\n    function hue2rgb(p, q, t) {\n        if (t < 0)\n            t += 1;\n        if (t > 1)\n            t -= 1;\n        if (t < 1 / 6)\n            return p + (q - p) * 6 * t;\n        if (t < 1 / 2)\n            return q;\n        if (t < 2 / 3)\n            return p + (q - p) * (2 / 3 - t) * 6;\n        return p;\n    }\n    if (s === 0) {\n        r = g = b = l;\n    }\n    else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - (l * s);\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1 / 3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - (1 / 3));\n    }\n    return [\n        r * 255,\n        g * 255,\n        b * 255\n    ];\n}\nexports.hslToRgb = hslToRgb;\nfunction rgbToXyz(r, g, b) {\n    r /= 255;\n    g /= 255;\n    b /= 255;\n    r = r > 0.04045 ? Math.pow((r + 0.005) / 1.055, 2.4) : r / 12.92;\n    g = g > 0.04045 ? Math.pow((g + 0.005) / 1.055, 2.4) : g / 12.92;\n    b = b > 0.04045 ? Math.pow((b + 0.005) / 1.055, 2.4) : b / 12.92;\n    r *= 100;\n    g *= 100;\n    b *= 100;\n    var x = r * 0.4124 + g * 0.3576 + b * 0.1805;\n    var y = r * 0.2126 + g * 0.7152 + b * 0.0722;\n    var z = r * 0.0193 + g * 0.1192 + b * 0.9505;\n    return [x, y, z];\n}\nexports.rgbToXyz = rgbToXyz;\nfunction xyzToCIELab(x, y, z) {\n    var REF_X = 95.047;\n    var REF_Y = 100;\n    var REF_Z = 108.883;\n    x /= REF_X;\n    y /= REF_Y;\n    z /= REF_Z;\n    x = x > 0.008856 ? Math.pow(x, 1 / 3) : 7.787 * x + 16 / 116;\n    y = y > 0.008856 ? Math.pow(y, 1 / 3) : 7.787 * y + 16 / 116;\n    z = z > 0.008856 ? Math.pow(z, 1 / 3) : 7.787 * z + 16 / 116;\n    var L = 116 * y - 16;\n    var a = 500 * (x - y);\n    var b = 200 * (y - z);\n    return [L, a, b];\n}\nexports.xyzToCIELab = xyzToCIELab;\nfunction rgbToCIELab(r, g, b) {\n    var _a = rgbToXyz(r, g, b), x = _a[0], y = _a[1], z = _a[2];\n    return xyzToCIELab(x, y, z);\n}\nexports.rgbToCIELab = rgbToCIELab;\nfunction deltaE94(lab1, lab2) {\n    var WEIGHT_L = 1;\n    var WEIGHT_C = 1;\n    var WEIGHT_H = 1;\n    var L1 = lab1[0], a1 = lab1[1], b1 = lab1[2];\n    var L2 = lab2[0], a2 = lab2[1], b2 = lab2[2];\n    var dL = L1 - L2;\n    var da = a1 - a2;\n    var db = b1 - b2;\n    var xC1 = Math.sqrt(a1 * a1 + b1 * b1);\n    var xC2 = Math.sqrt(a2 * a2 + b2 * b2);\n    var xDL = L2 - L1;\n    var xDC = xC2 - xC1;\n    var xDE = Math.sqrt(dL * dL + da * da + db * db);\n    var xDH = (Math.sqrt(xDE) > Math.sqrt(Math.abs(xDL)) + Math.sqrt(Math.abs(xDC)))\n        ? Math.sqrt(xDE * xDE - xDL * xDL - xDC * xDC)\n        : 0;\n    var xSC = 1 + 0.045 * xC1;\n    var xSH = 1 + 0.015 * xC1;\n    xDL /= WEIGHT_L;\n    xDC /= WEIGHT_C * xSC;\n    xDH /= WEIGHT_H * xSH;\n    return Math.sqrt(xDL * xDL + xDC * xDC + xDH * xDH);\n}\nexports.deltaE94 = deltaE94;\nfunction rgbDiff(rgb1, rgb2) {\n    var lab1 = rgbToCIELab.apply(undefined, rgb1);\n    var lab2 = rgbToCIELab.apply(undefined, rgb2);\n    return deltaE94(lab1, lab2);\n}\nexports.rgbDiff = rgbDiff;\nfunction hexDiff(hex1, hex2) {\n    var rgb1 = hexToRgb(hex1);\n    var rgb2 = hexToRgb(hex2);\n    return rgbDiff(rgb1, rgb2);\n}\nexports.hexDiff = hexDiff;\nfunction getColorDiffStatus(d) {\n    if (d < exports.DELTAE94_DIFF_STATUS.NA) {\n        return 'N/A';\n    }\n    // Not perceptible by human eyes\n    if (d <= exports.DELTAE94_DIFF_STATUS.PERFECT) {\n        return 'Perfect';\n    }\n    // Perceptible through close observation\n    if (d <= exports.DELTAE94_DIFF_STATUS.CLOSE) {\n        return 'Close';\n    }\n    // Perceptible at a glance\n    if (d <= exports.DELTAE94_DIFF_STATUS.GOOD) {\n        return 'Good';\n    }\n    // Colors are more similar than opposite\n    if (d < exports.DELTAE94_DIFF_STATUS.SIMILAR) {\n        return 'Similar';\n    }\n    return 'Wrong';\n}\nexports.getColorDiffStatus = getColorDiffStatus;\nfunction getColorIndex(r, g, b) {\n    return (r << (2 * exports.SIGBITS)) + (g << exports.SIGBITS) + b;\n}\nexports.getColorIndex = getColorIndex;\n//# sourceMappingURL=util.js.map"]},"metadata":{},"sourceType":"script"}