{"ast":null,"code":"import _taggedTemplateLiteral from\"/projects/testswap/uniswap-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  right: 16px;\\n  top: 16px;\\n\\n  :hover {\\n    cursor: pointer;\\n  }\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);\\n  background: radial-gradient(76.02% 75.41% at 1.84% 0%, #ff007a 0%, #021d43 100%);\\n  padding: 0.5rem;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  width: 100%;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import{ChainId}from'@uniswap/sdk';import React,{useMemo}from'react';import{X}from'react-feather';import styled from'styled-components';import tokenLogo from'../../assets/images/token-logo.png';import{UNI}from'../../constants';import{useTotalSupply}from'../../data/TotalSupply';import{useActiveWeb3React}from'../../hooks';import{useMerkleDistributorContract}from'../../hooks/useContract';import useCurrentBlockTimestamp from'../../hooks/useCurrentBlockTimestamp';import{useTotalUniEarned}from'../../state/stake/hooks';import{useAggregateUniBalance,useTokenBalance}from'../../state/wallet/hooks';import{ExternalLink,StyledInternalLink,TYPE,UniTokenAnimated}from'../../theme';import{computeUniCirculation}from'../../utils/computeUniCirculation';import useUSDCPrice from'../../utils/useUSDCPrice';import{AutoColumn}from'../Column';import{RowBetween}from'../Row';import{Break,CardBGImage,CardNoise,CardSection,DataCard}from'../earn/styled';var ContentWrapper=styled(AutoColumn)(_templateObject());var ModalUpper=styled(DataCard)(_templateObject2());var StyledClose=styled(X)(_templateObject3());/**\n * Content for balance stats modal\n */export default function UniBalanceContent(_ref){var _useMerkleDistributor,_uniPrice$toFixed;var setShowUniBalanceModal=_ref.setShowUniBalanceModal;var _useActiveWeb3React=useActiveWeb3React(),account=_useActiveWeb3React.account,chainId=_useActiveWeb3React.chainId;var uni=chainId?UNI[chainId]:undefined;var total=useAggregateUniBalance();var uniBalance=useTokenBalance(account!==null&&account!==void 0?account:undefined,uni);var uniToClaim=useTotalUniEarned();var totalSupply=useTotalSupply(uni);var uniPrice=useUSDCPrice(uni);var blockTimestamp=useCurrentBlockTimestamp();var unclaimedUni=useTokenBalance((_useMerkleDistributor=useMerkleDistributorContract())===null||_useMerkleDistributor===void 0?void 0:_useMerkleDistributor.address,uni);var circulation=useMemo(function(){return blockTimestamp&&uni&&chainId===ChainId.MAINNET?computeUniCirculation(uni,blockTimestamp,unclaimedUni):totalSupply;},[blockTimestamp,chainId,totalSupply,unclaimedUni,uni]);return/*#__PURE__*/React.createElement(ContentWrapper,{gap:\"lg\"},/*#__PURE__*/React.createElement(ModalUpper,null,/*#__PURE__*/React.createElement(CardBGImage,null),/*#__PURE__*/React.createElement(CardNoise,null),/*#__PURE__*/React.createElement(CardSection,{gap:\"md\"},/*#__PURE__*/React.createElement(RowBetween,null,/*#__PURE__*/React.createElement(TYPE.white,{color:\"white\"},\"Your UNI Breakdown\"),/*#__PURE__*/React.createElement(StyledClose,{stroke:\"white\",onClick:function onClick(){return setShowUniBalanceModal(false);}}))),/*#__PURE__*/React.createElement(Break,null),account&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(CardSection,{gap:\"sm\"},/*#__PURE__*/React.createElement(AutoColumn,{gap:\"md\",justify:\"center\"},/*#__PURE__*/React.createElement(UniTokenAnimated,{width:\"48px\",src:tokenLogo}),' ',/*#__PURE__*/React.createElement(TYPE.white,{fontSize:48,fontWeight:600,color:\"white\"},total===null||total===void 0?void 0:total.toFixed(2,{groupSeparator:','}))),/*#__PURE__*/React.createElement(AutoColumn,{gap:\"md\"},/*#__PURE__*/React.createElement(RowBetween,null,/*#__PURE__*/React.createElement(TYPE.white,{color:\"white\"},\"Balance:\"),/*#__PURE__*/React.createElement(TYPE.white,{color:\"white\"},uniBalance===null||uniBalance===void 0?void 0:uniBalance.toFixed(2,{groupSeparator:','}))),/*#__PURE__*/React.createElement(RowBetween,null,/*#__PURE__*/React.createElement(TYPE.white,{color:\"white\"},\"Unclaimed:\"),/*#__PURE__*/React.createElement(TYPE.white,{color:\"white\"},uniToClaim===null||uniToClaim===void 0?void 0:uniToClaim.toFixed(4,{groupSeparator:','}),' ',uniToClaim&&uniToClaim.greaterThan('0')&&/*#__PURE__*/React.createElement(StyledInternalLink,{onClick:function onClick(){return setShowUniBalanceModal(false);},to:\"/uni\"},\"(claim)\"))))),/*#__PURE__*/React.createElement(Break,null)),/*#__PURE__*/React.createElement(CardSection,{gap:\"sm\"},/*#__PURE__*/React.createElement(AutoColumn,{gap:\"md\"},/*#__PURE__*/React.createElement(RowBetween,null,/*#__PURE__*/React.createElement(TYPE.white,{color:\"white\"},\"UNI price:\"),/*#__PURE__*/React.createElement(TYPE.white,{color:\"white\"},\"$\",(_uniPrice$toFixed=uniPrice===null||uniPrice===void 0?void 0:uniPrice.toFixed(2))!==null&&_uniPrice$toFixed!==void 0?_uniPrice$toFixed:'-')),/*#__PURE__*/React.createElement(RowBetween,null,/*#__PURE__*/React.createElement(TYPE.white,{color:\"white\"},\"UNI in circulation:\"),/*#__PURE__*/React.createElement(TYPE.white,{color:\"white\"},circulation===null||circulation===void 0?void 0:circulation.toFixed(0,{groupSeparator:','}))),/*#__PURE__*/React.createElement(RowBetween,null,/*#__PURE__*/React.createElement(TYPE.white,{color:\"white\"},\"Total Supply\"),/*#__PURE__*/React.createElement(TYPE.white,{color:\"white\"},totalSupply===null||totalSupply===void 0?void 0:totalSupply.toFixed(0,{groupSeparator:','}))),uni&&uni.chainId===ChainId.MAINNET?/*#__PURE__*/React.createElement(ExternalLink,{href:\"https://uniswap.info/token/\".concat(uni.address)},\"View UNI Analytics\"):null))));}","map":{"version":3,"sources":["/projects/testswap/uniswap-interface/src/components/Header/UniBalanceContent.tsx"],"names":["ChainId","React","useMemo","X","styled","tokenLogo","UNI","useTotalSupply","useActiveWeb3React","useMerkleDistributorContract","useCurrentBlockTimestamp","useTotalUniEarned","useAggregateUniBalance","useTokenBalance","ExternalLink","StyledInternalLink","TYPE","UniTokenAnimated","computeUniCirculation","useUSDCPrice","AutoColumn","RowBetween","Break","CardBGImage","CardNoise","CardSection","DataCard","ContentWrapper","ModalUpper","StyledClose","UniBalanceContent","setShowUniBalanceModal","account","chainId","uni","undefined","total","uniBalance","uniToClaim","totalSupply","uniPrice","blockTimestamp","unclaimedUni","address","circulation","MAINNET","toFixed","groupSeparator","greaterThan"],"mappings":"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","sourcesContent":["import { ChainId, TokenAmount } from '@uniswap/sdk'\nimport React, { useMemo } from 'react'\nimport { X } from 'react-feather'\nimport styled from 'styled-components'\nimport tokenLogo from '../../assets/images/token-logo.png'\nimport { UNI } from '../../constants'\nimport { useTotalSupply } from '../../data/TotalSupply'\nimport { useActiveWeb3React } from '../../hooks'\nimport { useMerkleDistributorContract } from '../../hooks/useContract'\nimport useCurrentBlockTimestamp from '../../hooks/useCurrentBlockTimestamp'\nimport { useTotalUniEarned } from '../../state/stake/hooks'\nimport { useAggregateUniBalance, useTokenBalance } from '../../state/wallet/hooks'\nimport { ExternalLink, StyledInternalLink, TYPE, UniTokenAnimated } from '../../theme'\nimport { computeUniCirculation } from '../../utils/computeUniCirculation'\nimport useUSDCPrice from '../../utils/useUSDCPrice'\nimport { AutoColumn } from '../Column'\nimport { RowBetween } from '../Row'\nimport { Break, CardBGImage, CardNoise, CardSection, DataCard } from '../earn/styled'\n\nconst ContentWrapper = styled(AutoColumn)`\n  width: 100%;\n`\n\nconst ModalUpper = styled(DataCard)`\n  box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);\n  background: radial-gradient(76.02% 75.41% at 1.84% 0%, #ff007a 0%, #021d43 100%);\n  padding: 0.5rem;\n`\n\nconst StyledClose = styled(X)`\n  position: absolute;\n  right: 16px;\n  top: 16px;\n\n  :hover {\n    cursor: pointer;\n  }\n`\n\n/**\n * Content for balance stats modal\n */\nexport default function UniBalanceContent({ setShowUniBalanceModal }: { setShowUniBalanceModal: any }) {\n  const { account, chainId } = useActiveWeb3React()\n  const uni = chainId ? UNI[chainId] : undefined\n\n  const total = useAggregateUniBalance()\n  const uniBalance: TokenAmount | undefined = useTokenBalance(account ?? undefined, uni)\n  const uniToClaim: TokenAmount | undefined = useTotalUniEarned()\n\n  const totalSupply: TokenAmount | undefined = useTotalSupply(uni)\n  const uniPrice = useUSDCPrice(uni)\n  const blockTimestamp = useCurrentBlockTimestamp()\n  const unclaimedUni = useTokenBalance(useMerkleDistributorContract()?.address, uni)\n  const circulation: TokenAmount | undefined = useMemo(\n    () =>\n      blockTimestamp && uni && chainId === ChainId.MAINNET\n        ? computeUniCirculation(uni, blockTimestamp, unclaimedUni)\n        : totalSupply,\n    [blockTimestamp, chainId, totalSupply, unclaimedUni, uni]\n  )\n\n  return (\n    <ContentWrapper gap=\"lg\">\n      <ModalUpper>\n        <CardBGImage />\n        <CardNoise />\n        <CardSection gap=\"md\">\n          <RowBetween>\n            <TYPE.white color=\"white\">Your UNI Breakdown</TYPE.white>\n            <StyledClose stroke=\"white\" onClick={() => setShowUniBalanceModal(false)} />\n          </RowBetween>\n        </CardSection>\n        <Break />\n        {account && (\n          <>\n            <CardSection gap=\"sm\">\n              <AutoColumn gap=\"md\" justify=\"center\">\n                <UniTokenAnimated width=\"48px\" src={tokenLogo} />{' '}\n                <TYPE.white fontSize={48} fontWeight={600} color=\"white\">\n                  {total?.toFixed(2, { groupSeparator: ',' })}\n                </TYPE.white>\n              </AutoColumn>\n              <AutoColumn gap=\"md\">\n                <RowBetween>\n                  <TYPE.white color=\"white\">Balance:</TYPE.white>\n                  <TYPE.white color=\"white\">{uniBalance?.toFixed(2, { groupSeparator: ',' })}</TYPE.white>\n                </RowBetween>\n                <RowBetween>\n                  <TYPE.white color=\"white\">Unclaimed:</TYPE.white>\n                  <TYPE.white color=\"white\">\n                    {uniToClaim?.toFixed(4, { groupSeparator: ',' })}{' '}\n                    {uniToClaim && uniToClaim.greaterThan('0') && (\n                      <StyledInternalLink onClick={() => setShowUniBalanceModal(false)} to=\"/uni\">\n                        (claim)\n                      </StyledInternalLink>\n                    )}\n                  </TYPE.white>\n                </RowBetween>\n              </AutoColumn>\n            </CardSection>\n            <Break />\n          </>\n        )}\n        <CardSection gap=\"sm\">\n          <AutoColumn gap=\"md\">\n            <RowBetween>\n              <TYPE.white color=\"white\">UNI price:</TYPE.white>\n              <TYPE.white color=\"white\">${uniPrice?.toFixed(2) ?? '-'}</TYPE.white>\n            </RowBetween>\n            <RowBetween>\n              <TYPE.white color=\"white\">UNI in circulation:</TYPE.white>\n              <TYPE.white color=\"white\">{circulation?.toFixed(0, { groupSeparator: ',' })}</TYPE.white>\n            </RowBetween>\n            <RowBetween>\n              <TYPE.white color=\"white\">Total Supply</TYPE.white>\n              <TYPE.white color=\"white\">{totalSupply?.toFixed(0, { groupSeparator: ',' })}</TYPE.white>\n            </RowBetween>\n            {uni && uni.chainId === ChainId.MAINNET ? (\n              <ExternalLink href={`https://uniswap.info/token/${uni.address}`}>View UNI Analytics</ExternalLink>\n            ) : null}\n          </AutoColumn>\n        </CardSection>\n      </ModalUpper>\n    </ContentWrapper>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}